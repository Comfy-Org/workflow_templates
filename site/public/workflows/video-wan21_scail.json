{
  "id": "c6e410bc-5e2c-460b-ae81-c91b6094fbb1",
  "revision": 0,
  "last_node_id": 388,
  "last_link_id": 686,
  "nodes": [
    {
      "id": 130,
      "type": "VHS_LoadVideo",
      "pos": [-2030, -2470],
      "size": [258.06266471838467, 747.1113746885576],
      "flags": {},
      "order": 0,
      "mode": 0,
      "inputs": [
        {
          "name": "meta_batch",
          "shape": 7,
          "type": "VHS_BatchManager",
          "link": null
        },
        {
          "name": "vae",
          "shape": 7,
          "type": "VAE",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [685]
        },
        {
          "name": "frame_count",
          "type": "INT",
          "links": [675]
        },
        {
          "name": "audio",
          "type": "AUDIO",
          "links": null
        },
        {
          "name": "video_info",
          "type": "VHS_VIDEOINFO",
          "links": null
        }
      ],
      "title": "Load Input Video",
      "properties": {
        "cnr_id": "comfyui-videohelpersuite",
        "ver": "8550981384301e9bc5bfea83e5c2c75258102593",
        "Node name for S&R": "VHS_LoadVideo",
        "aux_id": "Kosinkadink/ComfyUI-VideoHelperSuite"
      },
      "widgets_values": {
        "video": "wan21_scail-input.mp4",
        "force_rate": 0,
        "custom_width": 0,
        "custom_height": 0,
        "frame_load_cap": 77,
        "skip_first_frames": 0,
        "select_every_nth": 1,
        "format": "AnimateDiff",
        "videopreview": {
          "hidden": false,
          "params": {
            "custom_height": 0,
            "custom_width": 0,
            "filename": "wan21_scail-input.mp4",
            "force_rate": 0,
            "format": "video/mp4",
            "frame_load_cap": 77,
            "select_every_nth": 1,
            "skip_first_frames": 0,
            "type": "input"
          },
          "paused": false
        }
      }
    },
    {
      "id": 106,
      "type": "LoadImage",
      "pos": [-1743.4541611146662, -2464.8637335378817],
      "size": [274.3210545856948, 584.8251543163601],
      "flags": {},
      "order": 1,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [679]
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null
        }
      ],
      "title": "Load Image: Reference",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.76",
        "Node name for S&R": "LoadImage"
      },
      "widgets_values": ["pirates_dancing.png", "image"]
    },
    {
      "id": 388,
      "type": "MarkdownNote",
      "pos": [-2591.367443580399, -2469.29666821732],
      "size": [502.48083341275515, 729.5610278024653],
      "flags": {},
      "order": 2,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "title": "Wan 2.1 SCAIL",
      "properties": {},
      "widgets_values": [
        "WAN 2.1 SCAIL transfers motion and pose information from an input video onto a reference image while preserving the reference image’s original composition. It works by rescaling pose data from the source footage to match the proportions and framing of the reference image.\n\nThis makes it ideal for animating still images using real motion, without distorting the original layout.\n\n## Inputs\n\n| Input | Type | Description |\n|------|------|-------------|\n| reference_image | Image | The still image whose composition, framing, and visual identity you want to preserve |\n| input_video | Image / Video | Source footage used to extract pose and motion data |\n| num_frames | Integer | Number of frames to generate; typically matched to or derived from the input video length |\n\n## Parameters\n\n| Parameter | Description |\n|---------|-------------|\n| cfg | Controls how strongly the model follows the prompt versus the motion data. Lower values prioritize motion accuracy; higher values emphasize prompt adherence, leave it at 1.0 to begin |\n| width | Output width in pixels. Must be divisible by 16 |\n| height | Output height in pixels. Must be divisible by 16 |\n| prompt | Text description guiding appearance, style, or action refinement |\n| seed | Random seed for generation consistency. Keeping this fixed helps with repeatable results |\n\n## Resolution Recommendations\n\n| Use Case | Resolution | Notes |\n|--------|------------|-------|\n| Initial testing (landscape) | 832 × 480 | Fast iteration, easier to debug motion |\n| Initial testing (portrait) | 480 × 832 | Fast iteration for vertical content |\n| Final renders | Increase gradually | Scale up only after motion and framing look correct |\n\n**Important:**  \n- Both width and height must be divisible by **16**  \n- Start at lower resolutions to validate motion transfer before increasing quality\n"
      ],
      "color": "#222",
      "bgcolor": "#000"
    },
    {
      "id": 385,
      "type": "2d4f2d38-ff62-4ae8-853d-2a359520164b",
      "pos": [-1404.656709542424, -2459.551300737885],
      "size": [413.13537383809705, 466.86796358413983],
      "flags": {},
      "order": 3,
      "mode": 0,
      "inputs": [
        {
          "name": "num_frames",
          "type": "INT",
          "widget": {
            "name": "num_frames"
          },
          "link": 675
        },
        {
          "name": "cfg",
          "type": "FLOAT",
          "link": null
        },
        {
          "label": "height",
          "name": "a",
          "type": "INT,FLOAT",
          "widget": {
            "name": "a"
          },
          "link": null
        },
        {
          "label": "width",
          "name": "a_1",
          "type": "INT,FLOAT",
          "widget": {
            "name": "a_1"
          },
          "link": null
        },
        {
          "label": "reference_image",
          "name": "image",
          "type": "IMAGE",
          "link": 679
        },
        {
          "label": "input_video",
          "name": "image_1",
          "type": "IMAGE",
          "link": 685
        },
        {
          "name": "positive_prompt",
          "type": "STRING",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "links": [681]
        },
        {
          "name": "image",
          "type": "IMAGE",
          "links": [682]
        }
      ],
      "properties": {
        "proxyWidgets": [
          ["-1", "num_frames"],
          ["-1", "a_1"],
          ["-1", "a"],
          ["348", "seed"],
          ["348", "add_noise_to_samples"]
        ],
        "cnr_id": "comfy-core",
        "ver": "0.9.2"
      },
      "widgets_values": [65, 480, 832]
    },
    {
      "id": 139,
      "type": "VHS_VideoCombine",
      "pos": [-944.4068434277656, -2448.618270549847],
      "size": [459.7694694230124, 334],
      "flags": {},
      "order": 5,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 682
        },
        {
          "name": "audio",
          "shape": 7,
          "type": "AUDIO",
          "link": null
        },
        {
          "name": "meta_batch",
          "shape": 7,
          "type": "VHS_BatchManager",
          "link": null
        },
        {
          "name": "vae",
          "shape": 7,
          "type": "VAE",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "Filenames",
          "type": "VHS_FILENAMES",
          "links": null
        }
      ],
      "title": "Save Video",
      "properties": {
        "cnr_id": "comfyui-videohelpersuite",
        "ver": "0a75c7958fe320efcb052f1d9f8451fd20c730a8",
        "Node name for S&R": "VHS_VideoCombine",
        "aux_id": "Kosinkadink/ComfyUI-VideoHelperSuite"
      },
      "widgets_values": {
        "frame_rate": 24,
        "loop_count": 0,
        "filename_prefix": "WanVideo_SCAIL",
        "format": "video/h264-mp4",
        "pix_fmt": "yuv420p",
        "crf": 13,
        "save_metadata": true,
        "trim_to_audio": false,
        "pingpong": false,
        "save_output": true,
        "videopreview": {
          "hidden": false,
          "params": {
            "filename": "849895f228489a29703587422edb2d360944691180806439df56a1e8d00b92f5.mp4",
            "format": "video/h264-mp4",
            "frame_rate": 24,
            "fullpath": "",
            "subfolder": "",
            "type": "output",
            "workflow": "WanVideo_SCAIL_00001.png"
          },
          "paused": false
        }
      }
    },
    {
      "id": 319,
      "type": "VHS_VideoCombine",
      "pos": [-447.2156050978834, -2448.9510747325357],
      "size": [469.374043907495, 334],
      "flags": {},
      "order": 4,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 681
        },
        {
          "name": "audio",
          "shape": 7,
          "type": "AUDIO",
          "link": null
        },
        {
          "name": "meta_batch",
          "shape": 7,
          "type": "VHS_BatchManager",
          "link": null
        },
        {
          "name": "vae",
          "shape": 7,
          "type": "VAE",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "Filenames",
          "type": "VHS_FILENAMES",
          "links": null
        }
      ],
      "title": "Save Comparison",
      "properties": {
        "cnr_id": "comfyui-videohelpersuite",
        "ver": "0a75c7958fe320efcb052f1d9f8451fd20c730a8",
        "Node name for S&R": "VHS_VideoCombine",
        "aux_id": "Kosinkadink/ComfyUI-VideoHelperSuite"
      },
      "widgets_values": {
        "frame_rate": 24,
        "loop_count": 0,
        "filename_prefix": "WanVideo_SCAIL",
        "format": "video/h264-mp4",
        "pix_fmt": "yuv420p",
        "crf": 13,
        "save_metadata": true,
        "trim_to_audio": false,
        "pingpong": false,
        "save_output": true,
        "videopreview": {
          "hidden": false,
          "params": {
            "filename": "519bd5b2fecca845346c2e02d56489e5416e6913bc73b3da15b7c68980e6202f.mp4",
            "format": "video/h264-mp4",
            "frame_rate": 24,
            "fullpath": "",
            "subfolder": "",
            "type": "output",
            "workflow": "WanVideo_SCAIL_00002.png"
          },
          "paused": false
        }
      }
    }
  ],
  "links": [
    [675, 130, 1, 385, 0, "INT"],
    [679, 106, 0, 385, 4, "IMAGE"],
    [681, 385, 0, 319, 0, "IMAGE"],
    [682, 385, 1, 139, 0, "IMAGE"],
    [685, 130, 0, 385, 5, "IMAGE"]
  ],
  "groups": [],
  "definitions": {
    "subgraphs": [
      {
        "id": "2d4f2d38-ff62-4ae8-853d-2a359520164b",
        "version": 1,
        "state": {
          "lastGroupId": 5,
          "lastNodeId": 387,
          "lastLinkId": 683,
          "lastRerouteId": 0
        },
        "revision": 0,
        "config": {},
        "name": "Wan 2.1 SCAIL",
        "inputNode": {
          "id": -10,
          "bounding": [-1381.7561748396092, -1260.445244439673, 135.044921875, 180]
        },
        "outputNode": {
          "id": -20,
          "bounding": [3055.757056206204, -946.9636312221667, 120, 80]
        },
        "inputs": [
          {
            "id": "21e5d8d7-9350-49ef-a987-38773c08c294",
            "name": "num_frames",
            "type": "INT",
            "linkIds": [664, 678],
            "localized_name": "num_frames",
            "pos": [-1266.7112529646092, -1240.445244439673]
          },
          {
            "id": "7aaae775-adde-4caa-9990-ae6afeaa631a",
            "name": "cfg",
            "type": "FLOAT",
            "linkIds": [672],
            "localized_name": "cfg",
            "pos": [-1266.7112529646092, -1220.445244439673]
          },
          {
            "id": "0838d78b-bb1a-46a5-a5fe-af962c3a2e21",
            "name": "a",
            "type": "INT,FLOAT",
            "linkIds": [674, 663, 662],
            "localized_name": "a",
            "label": "height",
            "shape": 7,
            "pos": [-1266.7112529646092, -1200.445244439673]
          },
          {
            "id": "10fc3b97-af4e-42c5-8632-f82e7482250e",
            "name": "a_1",
            "type": "INT,FLOAT",
            "linkIds": [673, 660, 675, 676],
            "localized_name": "a_1",
            "label": "width",
            "shape": 7,
            "pos": [-1266.7112529646092, -1180.445244439673]
          },
          {
            "id": "861bb5d6-0244-42f0-826d-a4406751ad5e",
            "name": "image",
            "type": "IMAGE",
            "linkIds": [564, 677],
            "localized_name": "image",
            "label": "reference_image",
            "pos": [-1266.7112529646092, -1160.445244439673]
          },
          {
            "id": "823333bb-e703-41e4-815b-1638d4dd0ace",
            "name": "image_1",
            "type": "IMAGE",
            "linkIds": [234],
            "localized_name": "image_1",
            "label": "input_video",
            "pos": [-1266.7112529646092, -1140.445244439673]
          },
          {
            "id": "748dc34e-85a3-4024-83db-4c31ad72cacc",
            "name": "positive_prompt",
            "type": "STRING",
            "linkIds": [683],
            "pos": [-1266.7112529646092, -1120.445244439673]
          }
        ],
        "outputs": [
          {
            "id": "348aa9f3-91fe-455b-b08d-d13d90883ffd",
            "name": "images",
            "type": "IMAGE",
            "linkIds": [651],
            "localized_name": "images",
            "pos": [3075.757056206204, -926.9636312221667]
          },
          {
            "id": "7a41c8a7-66e7-4a15-bd22-e1e74fbe77b3",
            "name": "image",
            "type": "IMAGE",
            "linkIds": [544],
            "localized_name": "image",
            "pos": [3075.757056206204, -906.9636312221667]
          }
        ],
        "widgets": [],
        "nodes": [
          {
            "id": 338,
            "type": "Reroute",
            "pos": [1811.1754946372916, -1437.2307055322824],
            "size": [75, 26],
            "flags": {},
            "order": 26,
            "mode": 0,
            "inputs": [
              {
                "name": "",
                "type": "*",
                "link": 622
              }
            ],
            "outputs": [
              {
                "name": "",
                "type": "IMAGE",
                "links": [583, 636]
              }
            ],
            "properties": {
              "showOutputText": false,
              "horizontal": false
            }
          },
          {
            "id": 370,
            "type": "Reroute",
            "pos": [-302.8194985321262, -2454.675407075446],
            "size": [75, 26],
            "flags": {},
            "order": 34,
            "mode": 0,
            "inputs": [
              {
                "name": "",
                "type": "*",
                "link": 640
              }
            ],
            "outputs": [
              {
                "name": "",
                "type": "IMAGE",
                "links": [641, 642]
              }
            ],
            "properties": {
              "showOutputText": false,
              "horizontal": false
            }
          },
          {
            "id": 363,
            "type": "PoseDetectionVitPoseToDWPose",
            "pos": [-118.04353460930928, -2310.5841289169803],
            "size": [271.9595703125, 46],
            "flags": {},
            "order": 31,
            "mode": 0,
            "inputs": [
              {
                "name": "vitpose_model",
                "type": "POSEMODEL",
                "link": 627,
                "localized_name": "vitpose_model"
              },
              {
                "name": "images",
                "type": "IMAGE",
                "link": 642,
                "localized_name": "images"
              }
            ],
            "outputs": [
              {
                "name": "dw_poses",
                "type": "DWPOSES",
                "links": [626],
                "localized_name": "dw_poses"
              }
            ],
            "properties": {
              "Node name for S&R": "PoseDetectionVitPoseToDWPose",
              "cnr_id": "comfyui-scail-pose",
              "aux_id": "kijai/ComfyUI-SCAIL-Pose",
              "ver": "93059f0fe4ea3881c0d6ec0e327e5d920554277d"
            },
            "widgets_values": []
          },
          {
            "id": 354,
            "type": "WanVideoSamplerExtraArgs",
            "pos": [1090.3198234833164, 15.186205609090257],
            "size": [314.0220703125, 262],
            "flags": {
              "collapsed": false
            },
            "order": 14,
            "mode": 0,
            "inputs": [
              {
                "name": "feta_args",
                "type": "FETAARGS",
                "link": null,
                "localized_name": "feta_args",
                "shape": 7
              },
              {
                "name": "context_options",
                "type": "WANVIDCONTEXT",
                "link": 614,
                "localized_name": "context_options",
                "shape": 7
              },
              {
                "name": "cache_args",
                "type": "CACHEARGS",
                "link": null,
                "localized_name": "cache_args",
                "shape": 7
              },
              {
                "name": "slg_args",
                "type": "SLGARGS",
                "link": null,
                "localized_name": "slg_args",
                "shape": 7
              },
              {
                "name": "loop_args",
                "type": "LOOPARGS",
                "link": null,
                "localized_name": "loop_args",
                "shape": 7
              },
              {
                "name": "experimental_args",
                "type": "EXPERIMENTALARGS",
                "link": null,
                "localized_name": "experimental_args",
                "shape": 7
              },
              {
                "name": "unianimate_poses",
                "type": "UNIANIMATE_POSE",
                "link": null,
                "localized_name": "unianimate_poses",
                "shape": 7
              },
              {
                "name": "fantasytalking_embeds",
                "type": "FANTASYTALKING_EMBEDS",
                "link": null,
                "localized_name": "fantasytalking_embeds",
                "shape": 7
              },
              {
                "name": "uni3c_embeds",
                "type": "UNI3C_EMBEDS",
                "link": null,
                "localized_name": "uni3c_embeds",
                "shape": 7
              },
              {
                "name": "multitalk_embeds",
                "type": "MULTITALK_EMBEDS",
                "link": null,
                "localized_name": "multitalk_embeds",
                "shape": 7
              }
            ],
            "outputs": [
              {
                "name": "extra_args",
                "type": "WANVIDSAMPLEREXTRAARGS",
                "links": [652],
                "localized_name": "extra_args"
              }
            ],
            "properties": {
              "Node name for S&R": "WanVideoSamplerExtraArgs",
              "cnr_id": "ComfyUI-WanVideoWrapper",
              "aux_id": "kijai/ComfyUI-WanVideoWrapper",
              "ver": "98f8e56bcacfc07e12cbb4b26555b2b28d9db92f"
            },
            "widgets_values": [0, "comfy"]
          },
          {
            "id": 348,
            "type": "WanVideoSamplerv2",
            "pos": [1485.7702836202573, -534.0386151958751],
            "size": [295.37109375, 745.3098958333334],
            "flags": {},
            "order": 27,
            "mode": 0,
            "inputs": [
              {
                "name": "model",
                "type": "WANVIDEOMODEL",
                "link": 670,
                "localized_name": "model"
              },
              {
                "name": "image_embeds",
                "type": "WANVIDIMAGE_EMBEDS",
                "link": 600,
                "localized_name": "image_embeds"
              },
              {
                "name": "scheduler",
                "type": "WANVIDEOSCHEDULER",
                "link": 598,
                "localized_name": "scheduler"
              },
              {
                "name": "text_embeds",
                "type": "WANVIDEOTEXTEMBEDS",
                "link": 671,
                "localized_name": "text_embeds",
                "shape": 7
              },
              {
                "name": "samples",
                "type": "LATENT",
                "link": null,
                "localized_name": "samples",
                "shape": 7
              },
              {
                "name": "extra_args",
                "type": "WANVIDSAMPLEREXTRAARGS",
                "link": 652,
                "localized_name": "extra_args",
                "shape": 7
              },
              {
                "name": "cfg",
                "type": "FLOAT",
                "link": 672,
                "localized_name": "cfg",
                "widget": {
                  "name": "cfg"
                }
              }
            ],
            "outputs": [
              {
                "name": "samples",
                "type": "LATENT",
                "links": [596],
                "localized_name": "samples"
              },
              {
                "name": "denoised_samples",
                "type": "LATENT",
                "links": null,
                "localized_name": "denoised_samples"
              }
            ],
            "properties": {
              "Node name for S&R": "WanVideoSamplerv2",
              "cnr_id": "ComfyUI-WanVideoWrapper",
              "aux_id": "kijai/ComfyUI-WanVideoWrapper",
              "ver": "98f8e56bcacfc07e12cbb4b26555b2b28d9db92f"
            },
            "widgets_values": [1, 43, "fixed", true, false]
          },
          {
            "id": 323,
            "type": "GetImageSizeAndCount",
            "pos": [2217.2661564600526, -553.3427900476613],
            "size": [196.2994140625, 86],
            "flags": {},
            "order": 21,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "image",
                "name": "image",
                "type": "IMAGE",
                "link": 543
              }
            ],
            "outputs": [
              {
                "localized_name": "image",
                "name": "image",
                "type": "IMAGE",
                "links": [544]
              },
              {
                "label": "480 width",
                "localized_name": "width",
                "name": "width",
                "type": "INT",
                "links": null
              },
              {
                "label": "832 height",
                "localized_name": "height",
                "name": "height",
                "type": "INT",
                "links": null
              },
              {
                "label": "77 count",
                "localized_name": "count",
                "name": "count",
                "type": "INT",
                "links": null
              }
            ],
            "properties": {
              "cnr_id": "comfyui-kjnodes",
              "ver": "ff7f876c09ff5a53be051073c3c1731b96ee31a3",
              "Node name for S&R": "GetImageSizeAndCount",
              "aux_id": "kijai/ComfyUI-KJNodes"
            },
            "widgets_values": []
          },
          {
            "id": 374,
            "type": "MarkdownNote",
            "pos": [330.1651195617085, -1882.62277801719],
            "size": [396.3385482042172, 242.6310390392532],
            "flags": {},
            "order": 0,
            "mode": 0,
            "inputs": [],
            "outputs": [],
            "title": "Markdown Note: Pose input info",
            "properties": {},
            "widgets_values": [
              "## IMPORTANT\n\nThe model uses downsampled poses, pose resolution needs to be **half** if the generation resolution. \n\nThat is automatically calculated here and the pose is rendered to the target resolution directly.\n\ndw_poses are optional and are used to draw face/hands as well as aligning the pose to the reference image.\n\nYou can disable the drawing and the alignment is still done if dw_poses are connected, to disable alignment disconnect them.\n"
            ],
            "color": "#432",
            "bgcolor": "#653"
          },
          {
            "id": 56,
            "type": "WanVideoLoraSelect",
            "pos": [-920.7727971696656, -699.961480161747],
            "size": [625.6896274024377, 154.3601465571362],
            "flags": {},
            "order": 1,
            "mode": 0,
            "inputs": [
              {
                "name": "prev_lora",
                "type": "WANVIDLORA",
                "link": null,
                "localized_name": "prev_lora",
                "shape": 7
              },
              {
                "name": "blocks",
                "type": "SELECTEDBLOCKS",
                "link": null,
                "localized_name": "blocks",
                "shape": 7
              }
            ],
            "outputs": [
              {
                "name": "lora",
                "type": "WANVIDLORA",
                "links": [110],
                "localized_name": "lora"
              }
            ],
            "properties": {
              "Node name for S&R": "WanVideoLoraSelect",
              "cnr_id": "ComfyUI-WanVideoWrapper",
              "aux_id": "kijai/ComfyUI-WanVideoWrapper",
              "ver": "998a69cc0acbec503001b8b0ce0a5d5404420e1e"
            },
            "widgets_values": [
              "lightx2v_T2V_14B_cfg_step_distill_v2_lora_rank64_bf16.safetensors",
              1,
              false,
              false
            ],
            "color": "#223",
            "bgcolor": "#335"
          },
          {
            "id": 22,
            "type": "WanVideoModelLoader",
            "pos": [-781.6500200421209, -1110.7692127125965],
            "size": [477.4410095214844, 338],
            "flags": {},
            "order": 2,
            "mode": 0,
            "inputs": [
              {
                "name": "compile_args",
                "type": "WANCOMPILEARGS",
                "link": null,
                "localized_name": "compile_args",
                "shape": 7
              },
              {
                "name": "block_swap_args",
                "type": "BLOCKSWAPARGS",
                "link": null,
                "localized_name": "block_swap_args",
                "shape": 7
              },
              {
                "name": "lora",
                "type": "WANVIDLORA",
                "link": null,
                "localized_name": "lora",
                "shape": 7
              },
              {
                "name": "vram_management_args",
                "type": "VRAM_MANAGEMENTARGS",
                "link": null,
                "localized_name": "vram_management_args",
                "shape": 7
              },
              {
                "name": "extra_model",
                "type": "VACEPATH",
                "link": null,
                "localized_name": "extra_model",
                "shape": 7
              },
              {
                "name": "fantasytalking_model",
                "type": "FANTASYTALKINGMODEL",
                "link": null,
                "localized_name": "fantasytalking_model",
                "shape": 7
              },
              {
                "name": "multitalk_model",
                "type": "MULTITALKMODEL",
                "link": null,
                "localized_name": "multitalk_model",
                "shape": 7
              },
              {
                "name": "fantasyportrait_model",
                "type": "FANTASYPORTRAITMODEL",
                "link": null,
                "localized_name": "fantasyportrait_model",
                "shape": 7
              },
              {
                "name": "vace_model",
                "type": "VACEPATH",
                "link": null,
                "shape": 7
              }
            ],
            "outputs": [
              {
                "name": "model",
                "type": "WANVIDEOMODEL",
                "links": [654],
                "slot_index": 0,
                "localized_name": "model"
              }
            ],
            "properties": {
              "Node name for S&R": "WanVideoModelLoader",
              "cnr_id": "ComfyUI-WanVideoWrapper",
              "aux_id": "kijai/ComfyUI-WanVideoWrapper",
              "ver": "998a69cc0acbec503001b8b0ce0a5d5404420e1e"
            },
            "widgets_values": [
              "Wan21-14B-SCAIL-preview_comfy_bf16.safetensors",
              "fp16_fast",
              "disabled",
              "offload_device",
              "sdpa",
              "default"
            ],
            "color": "#223",
            "bgcolor": "#335"
          },
          {
            "id": 364,
            "type": "OnnxDetectionModelLoader",
            "pos": [-822.1640391676473, -2171.129313734437],
            "size": [304.0484375, 106],
            "flags": {},
            "order": 3,
            "mode": 0,
            "inputs": [],
            "outputs": [
              {
                "name": "model",
                "type": "POSEMODEL",
                "links": [627, 629],
                "localized_name": "model"
              }
            ],
            "properties": {
              "Node name for S&R": "OnnxDetectionModelLoader",
              "cnr_id": "ComfyUI-WanAnimatePreprocess",
              "aux_id": "kijai/ComfyUI-WanAnimatePreprocess",
              "ver": "74f834b9ecec0e9f48535ab2ec95219f5288018a"
            },
            "widgets_values": ["vitpose-l-wholebody.onnx", "yolov10m.onnx", "CUDAExecutionProvider"]
          },
          {
            "id": 28,
            "type": "WanVideoDecode",
            "pos": [1840.4548385097592, -551.4493344864527],
            "size": [315, 198],
            "flags": {},
            "order": 15,
            "mode": 0,
            "inputs": [
              {
                "name": "vae",
                "type": "WANVAE",
                "link": 668,
                "localized_name": "vae"
              },
              {
                "name": "samples",
                "type": "LATENT",
                "link": 596,
                "localized_name": "samples"
              }
            ],
            "outputs": [
              {
                "name": "images",
                "type": "IMAGE",
                "links": [543, 682],
                "slot_index": 0,
                "localized_name": "images"
              }
            ],
            "properties": {
              "Node name for S&R": "WanVideoDecode",
              "cnr_id": "ComfyUI-WanVideoWrapper",
              "aux_id": "kijai/ComfyUI-WanVideoWrapper",
              "ver": "998a69cc0acbec503001b8b0ce0a5d5404420e1e"
            },
            "widgets_values": [false, 272, 272, 144, 128, "default"],
            "color": "#322",
            "bgcolor": "#533"
          },
          {
            "id": 328,
            "type": "ImageConcatMulti",
            "pos": [2164.413551189794, -1511.2681112570149],
            "size": [270, 150],
            "flags": {},
            "order": 24,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "image_1",
                "name": "image_1",
                "type": "IMAGE",
                "link": 636
              },
              {
                "localized_name": "image_2",
                "name": "image_2",
                "shape": 7,
                "type": "IMAGE",
                "link": 653
              }
            ],
            "outputs": [
              {
                "localized_name": "images",
                "name": "images",
                "type": "IMAGE",
                "links": [679]
              }
            ],
            "properties": {
              "cnr_id": "comfyui-kjnodes",
              "ver": "ff7f876c09ff5a53be051073c3c1731b96ee31a3",
              "Node name for S&R": "ImageConcatMulti",
              "aux_id": "kijai/ComfyUI-KJNodes"
            },
            "widgets_values": [2, "down", true, null]
          },
          {
            "id": 386,
            "type": "ImageConcatMulti",
            "pos": [2507.246479111947, -1488.5204506985638],
            "size": [270, 150],
            "flags": {},
            "order": 38,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "image_1",
                "name": "image_1",
                "type": "IMAGE",
                "link": 679
              },
              {
                "localized_name": "image_2",
                "name": "image_2",
                "shape": 7,
                "type": "IMAGE",
                "link": 680
              }
            ],
            "outputs": [
              {
                "localized_name": "images",
                "name": "images",
                "type": "IMAGE",
                "links": [681]
              }
            ],
            "properties": {
              "cnr_id": "comfyui-kjnodes",
              "ver": "ff7f876c09ff5a53be051073c3c1731b96ee31a3",
              "Node name for S&R": "ImageConcatMulti",
              "aux_id": "kijai/ComfyUI-KJNodes"
            },
            "widgets_values": [2, "down", true, null]
          },
          {
            "id": 369,
            "type": "MarkdownNote",
            "pos": [-1926.168305401441, -1589.2737025172705],
            "size": [739.7913211214582, 247.47939037125025],
            "flags": {},
            "order": 4,
            "mode": 0,
            "inputs": [],
            "outputs": [],
            "title": "Model links",
            "properties": {},
            "widgets_values": [
              "bf16: /models/diffusion_models/\n\n[https://huggingface.co/Kijai/WanVideo_comfy/blob/main/SCAIL/Wan21-14B-SCAIL-preview_comfy_bf16.safetensors](https://huggingface.co/Kijai/WanVideo_comfy/blob/main/SCAIL/Wan21-14B-SCAIL-preview_comfy_bf16.safetensors)\n\nfp8_scaled: /models/diffusion_models/\n\n[https://huggingface.co/Kijai/WanVideo_comfy_fp8_scaled/blob/main/SCAIL/Wan21-14B-SCAIL-preview_fp8_e4m3fn_scaled_KJ.safetensors](https://huggingface.co/Kijai/WanVideo_comfy_fp8_scaled/blob/main/SCAIL/Wan21-14B-SCAIL-preview_fp8_e4m3fn_scaled_KJ.safetensors)\n\ndistill lora (should use I2V one): /models/loras/\n\n[https://huggingface.co/Kijai/WanVideo_comfy/blob/main/Lightx2v/lightx2v_I2V_14B_480p_cfg_step_distill_rank64_bf16.safetensors](https://huggingface.co/Kijai/WanVideo_comfy/blob/main/Lightx2v/lightx2v_I2V_14B_480p_cfg_step_distill_rank64_bf16.safetensors)\n\n\nText encoder: /models/text_encoders/\n\n[https://huggingface.co/Kijai/WanVideo_comfy/blob/main/umt5-xxl-enc-bf16.safetensors](https://huggingface.co/Kijai/WanVideo_comfy/blob/main/umt5-xxl-enc-bf16.safetensors)\n\nVAE: /models/vae/\n\n[https://huggingface.co/Kijai/WanVideo_comfy/blob/main/Wan2_1_VAE_bf16.safetensors](https://huggingface.co/Kijai/WanVideo_comfy/blob/main/Wan2_1_VAE_bf16.safetensors)"
            ],
            "color": "#432",
            "bgcolor": "#653"
          },
          {
            "id": 387,
            "type": "MarkdownNote",
            "pos": [-1926.0720302142258, -1973.928768893827],
            "size": [536.27783203125, 330.03546142578125],
            "flags": {},
            "order": 5,
            "mode": 0,
            "inputs": [],
            "outputs": [],
            "title": "Preprocessor links",
            "properties": {},
            "widgets_values": [
              "Nodes:\n\n[https://github.com/kijai/ComfyUI-WanAnimatePreprocess](https://github.com/kijai/ComfyUI-WanAnimatePreprocess)\n\n[https://github.com/kijai/ComfyUI-SCAIL-pose](https://github.com/kijai/ComfyUI-SCAIL-pose)\n\nModels: /models/detection/\n\nYOLO:\n\n[https://huggingface.co/Wan-AI/Wan2.2-Animate-14B/blob/main/process_checkpoint/det/yolov10m.onnx](https://huggingface.co/Wan-AI/Wan2.2-Animate-14B/blob/main/process_checkpoint/det/yolov10m.onnx)\n\nViTPose\n\nLarge:\n\n[https://huggingface.co/JunkyByte/easy_ViTPose/blob/main/onnx/wholebody/vitpose-l-wholebody.onnx](https://huggingface.co/JunkyByte/easy_ViTPose/blob/main/onnx/wholebody/vitpose-l-wholebody.onnx)\n\nHuge (needs both files):\n\n[https://huggingface.co/Kijai/vitpose_comfy/blob/main/onnx/vitpose_h_wholebody_model.onnx](https://huggingface.co/Kijai/vitpose_comfy/blob/main/onnx/vitpose_h_wholebody_model.onnx)\n\n[https://huggingface.co/Kijai/vitpose_comfy/blob/main/onnx/vitpose_h_wholebody_data.bin](https://huggingface.co/Kijai/vitpose_comfy/blob/main/onnx/vitpose_h_wholebody_data.bin)"
            ],
            "color": "#432",
            "bgcolor": "#653"
          },
          {
            "id": 318,
            "type": "ImageConcatMulti",
            "pos": [2509.367867145336, -1281.6060321374111],
            "size": [270, 150],
            "flags": {},
            "order": 20,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "image_1",
                "name": "image_1",
                "type": "IMAGE",
                "link": 681
              },
              {
                "localized_name": "image_2",
                "name": "image_2",
                "shape": 7,
                "type": "IMAGE",
                "link": 682
              }
            ],
            "outputs": [
              {
                "localized_name": "images",
                "name": "images",
                "type": "IMAGE",
                "links": [651]
              }
            ],
            "properties": {
              "cnr_id": "comfyui-kjnodes",
              "ver": "ff7f876c09ff5a53be051073c3c1731b96ee31a3",
              "Node name for S&R": "ImageConcatMulti",
              "aux_id": "kijai/ComfyUI-KJNodes"
            },
            "widgets_values": [2, "right", true, null]
          },
          {
            "id": 385,
            "type": "RepeatImageBatch",
            "pos": [2167.6675771926184, -1303.7633755382972],
            "size": [270, 58],
            "flags": {},
            "order": 37,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "image",
                "name": "image",
                "type": "IMAGE",
                "link": 677
              },
              {
                "localized_name": "amount",
                "name": "amount",
                "type": "INT",
                "widget": {
                  "name": "amount"
                },
                "link": 678
              }
            ],
            "outputs": [
              {
                "localized_name": "IMAGE",
                "name": "IMAGE",
                "type": "IMAGE",
                "links": [680]
              }
            ],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.9.2",
              "Node name for S&R": "RepeatImageBatch"
            },
            "widgets_values": [65]
          },
          {
            "id": 131,
            "type": "ImageResizeKJv2",
            "pos": [-814.0020729801778, -2577.2852357441843],
            "size": [294.2013466029439, 341.2145431525514],
            "flags": {},
            "order": 18,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "image",
                "name": "image",
                "type": "IMAGE",
                "link": 234
              },
              {
                "localized_name": "mask",
                "name": "mask",
                "shape": 7,
                "type": "MASK",
                "link": null
              },
              {
                "localized_name": "width",
                "name": "width",
                "type": "INT",
                "widget": {
                  "name": "width"
                },
                "link": 660
              },
              {
                "localized_name": "height",
                "name": "height",
                "type": "INT",
                "widget": {
                  "name": "height"
                },
                "link": 662
              }
            ],
            "outputs": [
              {
                "localized_name": "IMAGE",
                "name": "IMAGE",
                "type": "IMAGE",
                "links": [640, 653]
              },
              {
                "localized_name": "width",
                "name": "width",
                "type": "INT",
                "links": []
              },
              {
                "localized_name": "height",
                "name": "height",
                "type": "INT",
                "links": []
              },
              {
                "localized_name": "mask",
                "name": "mask",
                "type": "MASK",
                "links": null
              }
            ],
            "properties": {
              "cnr_id": "comfyui-kjnodes",
              "ver": "50e7dd34d3b6e6bbab1d41e8068e1ddd19bd4d1b",
              "Node name for S&R": "ImageResizeKJv2",
              "aux_id": "kijai/ComfyUI-KJNodes"
            },
            "widgets_values": [480, 832, "lanczos", "crop", "0, 0, 0", "center", 32, "cpu"]
          },
          {
            "id": 384,
            "type": "LoadNLFModel",
            "pos": [-803.3038693405397, -2745.6251753301713],
            "size": [270, 82],
            "flags": {},
            "order": 6,
            "mode": 0,
            "inputs": [],
            "outputs": [
              {
                "name": "nlf_model",
                "type": "NLFMODEL",
                "links": [659],
                "localized_name": "nlf_model"
              }
            ],
            "properties": {
              "Node name for S&R": "LoadNLFModel"
            },
            "widgets_values": ["nlf_l_multi_0.3.2.torchscript", true]
          },
          {
            "id": 334,
            "type": "NLFPredict",
            "pos": [-122.86813457479315, -2554.3265992923434],
            "size": [210, 78],
            "flags": {},
            "order": 25,
            "mode": 0,
            "inputs": [
              {
                "name": "model",
                "type": "NLFMODEL",
                "link": 659,
                "localized_name": "model"
              },
              {
                "name": "images",
                "type": "IMAGE",
                "link": 641,
                "localized_name": "images"
              }
            ],
            "outputs": [
              {
                "name": "pose_results",
                "type": "NLFPRED",
                "links": [621],
                "localized_name": "pose_results"
              },
              {
                "name": "bboxes",
                "type": "BBOX",
                "links": null,
                "localized_name": "bboxes"
              }
            ],
            "properties": {
              "Node name for S&R": "NLFPredict",
              "cnr_id": "ComfyUI-WanVideoWrapper",
              "aux_id": "kijai/ComfyUI-WanVideoWrapper",
              "ver": "4a3ab6958a5d9650eb4e3c2eb1753c2d7c5b77c6"
            },
            "widgets_values": [-1]
          },
          {
            "id": 365,
            "type": "PoseDetectionVitPoseToDWPose",
            "pos": [-103.85678312741467, -2209.2525655450686],
            "size": [271.9595703125, 46],
            "flags": {},
            "order": 32,
            "mode": 0,
            "inputs": [
              {
                "name": "vitpose_model",
                "type": "POSEMODEL",
                "link": 629,
                "localized_name": "vitpose_model"
              },
              {
                "name": "images",
                "type": "IMAGE",
                "link": 630,
                "localized_name": "images"
              }
            ],
            "outputs": [
              {
                "name": "dw_poses",
                "type": "DWPOSES",
                "links": [633],
                "localized_name": "dw_poses"
              }
            ],
            "properties": {
              "Node name for S&R": "PoseDetectionVitPoseToDWPose",
              "cnr_id": "comfyui-scail-pose",
              "aux_id": "kijai/ComfyUI-SCAIL-Pose",
              "ver": "93059f0fe4ea3881c0d6ec0e327e5d920554277d"
            },
            "widgets_values": []
          },
          {
            "id": 382,
            "type": "SimpleMath+",
            "pos": [-93.09620855720478, -2080.795859086675],
            "size": [270, 78],
            "flags": {
              "collapsed": true
            },
            "order": 35,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "a",
                "name": "a",
                "shape": 7,
                "type": "INT,FLOAT",
                "link": 673
              },
              {
                "localized_name": "b",
                "name": "b",
                "shape": 7,
                "type": "INT,FLOAT",
                "link": null
              }
            ],
            "outputs": [
              {
                "localized_name": "INT",
                "name": "INT",
                "type": "INT",
                "links": [656]
              },
              {
                "localized_name": "FLOAT",
                "name": "FLOAT",
                "type": "FLOAT",
                "links": null
              }
            ],
            "properties": {
              "cnr_id": "comfyui_essentials",
              "ver": "1.1.0",
              "Node name for S&R": "SimpleMath+"
            },
            "widgets_values": ["a / 2"]
          },
          {
            "id": 383,
            "type": "SimpleMath+",
            "pos": [-98.26901213460692, -1964.3006196401404],
            "size": [270, 78],
            "flags": {
              "collapsed": true
            },
            "order": 36,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "a",
                "name": "a",
                "shape": 7,
                "type": "INT,FLOAT",
                "link": 674
              },
              {
                "localized_name": "b",
                "name": "b",
                "shape": 7,
                "type": "INT,FLOAT",
                "link": null
              }
            ],
            "outputs": [
              {
                "localized_name": "INT",
                "name": "INT",
                "type": "INT",
                "links": [658]
              },
              {
                "localized_name": "FLOAT",
                "name": "FLOAT",
                "type": "FLOAT",
                "links": null
              }
            ],
            "properties": {
              "cnr_id": "comfyui_essentials",
              "ver": "1.1.0",
              "Node name for S&R": "SimpleMath+"
            },
            "widgets_values": ["a / 2"]
          },
          {
            "id": 137,
            "type": "VHS_VideoCombine",
            "pos": [898.4333876723454, -2324.2535192144246],
            "size": [287.28398784391584, 334],
            "flags": {},
            "order": 19,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "images",
                "name": "images",
                "type": "IMAGE",
                "link": 623
              },
              {
                "localized_name": "audio",
                "name": "audio",
                "shape": 7,
                "type": "AUDIO",
                "link": null
              },
              {
                "localized_name": "meta_batch",
                "name": "meta_batch",
                "shape": 7,
                "type": "VHS_BatchManager",
                "link": null
              },
              {
                "localized_name": "vae",
                "name": "vae",
                "shape": 7,
                "type": "VAE",
                "link": null
              }
            ],
            "outputs": [
              {
                "localized_name": "Filenames",
                "name": "Filenames",
                "type": "VHS_FILENAMES",
                "links": null
              }
            ],
            "properties": {
              "cnr_id": "comfyui-videohelpersuite",
              "ver": "0a75c7958fe320efcb052f1d9f8451fd20c730a8",
              "Node name for S&R": "VHS_VideoCombine",
              "aux_id": "Kosinkadink/ComfyUI-VideoHelperSuite"
            },
            "widgets_values": {
              "frame_rate": 24,
              "loop_count": 0,
              "filename_prefix": "onetotall_pose",
              "format": "video/h264-mp4",
              "pix_fmt": "yuv420p",
              "crf": 19,
              "save_metadata": true,
              "trim_to_audio": false,
              "pingpong": false,
              "save_output": false,
              "videopreview": {
                "hidden": false,
                "params": {
                  "filename": "6603d2eb36930bf00b46642df880cc38b9a3b8757d7da04d72297ef96a4baba9.mp4",
                  "format": "video/h264-mp4",
                  "frame_rate": 24,
                  "fullpath": "",
                  "subfolder": "",
                  "type": "temp",
                  "workflow": "onetotall_pose_00001.png"
                },
                "paused": false
              }
            }
          },
          {
            "id": 351,
            "type": "Reroute",
            "pos": [-123.76111216984296, -1643.3263219063595],
            "size": [75, 26],
            "flags": {},
            "order": 29,
            "mode": 0,
            "inputs": [
              {
                "name": "",
                "type": "*",
                "link": 609
              }
            ],
            "outputs": [
              {
                "name": "",
                "type": "IMAGE",
                "links": [611, 612]
              }
            ],
            "properties": {
              "showOutputText": false,
              "horizontal": false
            }
          },
          {
            "id": 381,
            "type": "Note",
            "pos": [-617.6283293291832, 84.5497833384752],
            "size": [287.7428125360259, 88],
            "flags": {},
            "order": 7,
            "mode": 0,
            "inputs": [],
            "outputs": [],
            "title": "Note: Supported resolutions",
            "properties": {},
            "widgets_values": ["Dimensions should be divisible by 32"],
            "color": "#432",
            "bgcolor": "#653"
          },
          {
            "id": 38,
            "type": "WanVideoVAELoader",
            "pos": [-655.6690578162658, -471.18104210308906],
            "size": [315, 106],
            "flags": {},
            "order": 8,
            "mode": 0,
            "inputs": [
              {
                "name": "compile_args",
                "type": "WANCOMPILEARGS",
                "link": null,
                "localized_name": "compile_args",
                "shape": 7
              }
            ],
            "outputs": [
              {
                "name": "vae",
                "type": "WANVAE",
                "links": [667, 668, 669],
                "slot_index": 0,
                "localized_name": "vae"
              }
            ],
            "properties": {
              "Node name for S&R": "WanVideoVAELoader",
              "cnr_id": "ComfyUI-WanVideoWrapper",
              "aux_id": "kijai/ComfyUI-WanVideoWrapper",
              "ver": "998a69cc0acbec503001b8b0ce0a5d5404420e1e"
            },
            "widgets_values": ["wan_2.1_vae.safetensors", "bf16", false],
            "color": "#322",
            "bgcolor": "#533"
          },
          {
            "id": 326,
            "type": "CLIPVisionLoader",
            "pos": [-594.1506259191626, -1251.0160275123742],
            "size": [270, 58],
            "flags": {},
            "order": 9,
            "mode": 0,
            "inputs": [],
            "outputs": [
              {
                "localized_name": "CLIP_VISION",
                "name": "CLIP_VISION",
                "type": "CLIP_VISION",
                "links": [554]
              }
            ],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.4.0",
              "Node name for S&R": "CLIPVisionLoader",
              "models": [
                {
                  "name": "clip_vision_h.safetensors",
                  "url": "https://huggingface.co/Comfy-Org/Wan_2.1_ComfyUI_repackaged/resolve/main/split_files/clip_vision/clip_vision_h.safetensors",
                  "directory": "clip_vision"
                }
              ]
            },
            "widgets_values": ["clip_vision_h.safetensors"],
            "color": "#233",
            "bgcolor": "#355"
          },
          {
            "id": 35,
            "type": "WanVideoTorchCompileSettings",
            "pos": [-1633.7490515348727, -901.9175526752654],
            "size": [390.5999755859375, 250],
            "flags": {},
            "order": 10,
            "mode": 0,
            "inputs": [],
            "outputs": [
              {
                "name": "torch_compile_args",
                "type": "WANCOMPILEARGS",
                "links": [],
                "slot_index": 0,
                "localized_name": "torch_compile_args"
              }
            ],
            "properties": {
              "Node name for S&R": "WanVideoTorchCompileSettings",
              "cnr_id": "ComfyUI-WanVideoWrapper",
              "aux_id": "kijai/ComfyUI-WanVideoWrapper",
              "ver": "998a69cc0acbec503001b8b0ce0a5d5404420e1e"
            },
            "widgets_values": ["inductor", false, "default", false, 64, true, 128, false, false],
            "color": "#223",
            "bgcolor": "#335"
          },
          {
            "id": 80,
            "type": "WanVideoSetLoRAs",
            "pos": [-210.58611078257795, -1104.4135511663262],
            "size": [222.27981567382812, 46],
            "flags": {},
            "order": 13,
            "mode": 0,
            "inputs": [
              {
                "name": "model",
                "type": "WANVIDEOMODEL",
                "link": 654,
                "localized_name": "model"
              },
              {
                "name": "lora",
                "type": "WANVIDLORA",
                "link": 110,
                "localized_name": "lora",
                "shape": 7
              }
            ],
            "outputs": [
              {
                "name": "model",
                "type": "WANVIDEOMODEL",
                "links": [670],
                "localized_name": "model"
              }
            ],
            "properties": {
              "Node name for S&R": "WanVideoSetLoRAs",
              "cnr_id": "ComfyUI-WanVideoWrapper",
              "aux_id": "kijai/ComfyUI-WanVideoWrapper",
              "ver": "998a69cc0acbec503001b8b0ce0a5d5404420e1e"
            },
            "widgets_values": [],
            "color": "#223",
            "bgcolor": "#335"
          },
          {
            "id": 368,
            "type": "WanVideoTextEncodeCached",
            "pos": [-207.12803600713877, -923.0827117487337],
            "size": [424.569194714732, 373.25066467272313],
            "flags": {},
            "order": 33,
            "mode": 0,
            "inputs": [
              {
                "name": "extender_args",
                "type": "WANVIDEOPROMPTEXTENDER_ARGS",
                "link": null,
                "localized_name": "extender_args",
                "shape": 7
              },
              {
                "name": "positive_prompt",
                "type": "STRING",
                "link": 683,
                "localized_name": "positive_prompt",
                "widget": {
                  "name": "positive_prompt"
                }
              }
            ],
            "outputs": [
              {
                "name": "text_embeds",
                "type": "WANVIDEOTEXTEMBEDS",
                "links": [671],
                "localized_name": "text_embeds"
              },
              {
                "name": "negative_text_embeds",
                "type": "WANVIDEOTEXTEMBEDS",
                "links": null,
                "localized_name": "negative_text_embeds"
              },
              {
                "name": "positive_prompt",
                "type": "STRING",
                "links": null,
                "localized_name": "positive_prompt"
              }
            ],
            "properties": {
              "Node name for S&R": "WanVideoTextEncodeCached",
              "cnr_id": "ComfyUI-WanVideoWrapper",
              "aux_id": "kijai/ComfyUI-WanVideoWrapper",
              "ver": "bb0c55da4d8f8bca4968704e877fd057a90a1eeb"
            },
            "widgets_values": [
              "umt5_xxl_fp16.safetensors",
              "bf16",
              "a pirate is dancing in the alley",
              "色调艳丽，过曝，静态，细节模糊不清，字幕，风格，作品，画作，画面，静止，整体发灰，最差质量，低质量，JPEG压缩残留，丑陋的，残缺的，多余的手指，画得不好的手部，画得不好的脸部，畸形的，毁容的，形态畸形的肢体，手指融合，静止不动的画面，杂乱的背景，三条腿，背景人很多，倒着走",
              "disabled",
              false,
              "gpu"
            ],
            "color": "#332922",
            "bgcolor": "#593930"
          },
          {
            "id": 327,
            "type": "WanVideoClipVisionEncode",
            "pos": [1135.222369867972, -885.0610607514352],
            "size": [289.63828125, 262],
            "flags": {},
            "order": 23,
            "mode": 0,
            "inputs": [
              {
                "name": "clip_vision",
                "type": "CLIP_VISION",
                "link": 554,
                "localized_name": "clip_vision"
              },
              {
                "name": "image_1",
                "type": "IMAGE",
                "link": 611,
                "localized_name": "image_1"
              },
              {
                "name": "image_2",
                "type": "IMAGE",
                "link": null,
                "localized_name": "image_2",
                "shape": 7
              },
              {
                "name": "negative_image",
                "type": "IMAGE",
                "link": null,
                "localized_name": "negative_image",
                "shape": 7
              }
            ],
            "outputs": [
              {
                "name": "image_embeds",
                "type": "WANVIDIMAGE_CLIPEMBEDS",
                "links": [607],
                "localized_name": "image_embeds"
              }
            ],
            "properties": {
              "Node name for S&R": "WanVideoClipVisionEncode",
              "cnr_id": "ComfyUI-WanVideoWrapper",
              "aux_id": "kijai/ComfyUI-WanVideoWrapper",
              "ver": "4a3ab6958a5d9650eb4e3c2eb1753c2d7c5b77c6"
            },
            "widgets_values": [1, 1, "center", "average", true, 0, 0.5],
            "color": "#233",
            "bgcolor": "#355"
          },
          {
            "id": 99,
            "type": "WanVideoEmptyEmbeds",
            "pos": [1146.256192075137, -1072.4335168887972],
            "size": [272.431640625, 126],
            "flags": {},
            "order": 16,
            "mode": 0,
            "inputs": [
              {
                "name": "control_embeds",
                "type": "WANVIDIMAGE_EMBEDS",
                "link": null,
                "localized_name": "control_embeds",
                "shape": 7
              },
              {
                "name": "extra_latents",
                "type": "LATENT",
                "link": null,
                "localized_name": "extra_latents",
                "shape": 7
              },
              {
                "name": "width",
                "type": "INT",
                "link": 665,
                "localized_name": "width",
                "widget": {
                  "name": "width"
                }
              },
              {
                "name": "height",
                "type": "INT",
                "link": 666,
                "localized_name": "height",
                "widget": {
                  "name": "height"
                }
              },
              {
                "name": "num_frames",
                "type": "INT",
                "link": 664,
                "localized_name": "num_frames",
                "widget": {
                  "name": "num_frames"
                }
              }
            ],
            "outputs": [
              {
                "name": "image_embeds",
                "type": "WANVIDIMAGE_EMBEDS",
                "links": [604],
                "localized_name": "image_embeds"
              }
            ],
            "properties": {
              "Node name for S&R": "WanVideoEmptyEmbeds",
              "cnr_id": "ComfyUI-WanVideoWrapper",
              "aux_id": "kijai/ComfyUI-WanVideoWrapper",
              "ver": "0f217be4d8742741b0f89db50138214302a58dc3"
            },
            "widgets_values": [480, 1216, 65],
            "color": "#323",
            "bgcolor": "#535"
          },
          {
            "id": 324,
            "type": "WanVideoAddSCAILPoseEmbeds",
            "pos": [1449.979807411096, -861.7188201486609],
            "size": [335.5962890625, 146],
            "flags": {},
            "order": 22,
            "mode": 0,
            "inputs": [
              {
                "name": "embeds",
                "type": "WANVIDIMAGE_EMBEDS",
                "link": 608,
                "localized_name": "embeds"
              },
              {
                "name": "vae",
                "type": "WANVAE",
                "link": 667,
                "localized_name": "vae"
              },
              {
                "name": "pose_images",
                "type": "IMAGE",
                "link": 583,
                "localized_name": "pose_images"
              }
            ],
            "outputs": [
              {
                "name": "image_embeds",
                "type": "WANVIDIMAGE_EMBEDS",
                "links": [600],
                "localized_name": "image_embeds"
              }
            ],
            "properties": {
              "Node name for S&R": "WanVideoAddSCAILPoseEmbeds",
              "cnr_id": "ComfyUI-WanVideoWrapper",
              "aux_id": "kijai/ComfyUI-WanVideoWrapper",
              "ver": "4a3ab6958a5d9650eb4e3c2eb1753c2d7c5b77c6"
            },
            "widgets_values": [1, 0, 0.5],
            "color": "#323",
            "bgcolor": "#535"
          },
          {
            "id": 350,
            "type": "WanVideoAddSCAILReferenceEmbeds",
            "pos": [1449.3468040011028, -1071.8962715717814],
            "size": [323.4435918582475, 166],
            "flags": {},
            "order": 28,
            "mode": 0,
            "inputs": [
              {
                "name": "embeds",
                "type": "WANVIDIMAGE_EMBEDS",
                "link": 604,
                "localized_name": "embeds"
              },
              {
                "name": "vae",
                "type": "WANVAE",
                "link": 669,
                "localized_name": "vae"
              },
              {
                "name": "ref_image",
                "type": "IMAGE",
                "link": 612,
                "localized_name": "ref_image"
              },
              {
                "name": "clip_embeds",
                "type": "WANVIDIMAGE_CLIPEMBEDS",
                "link": 607,
                "localized_name": "clip_embeds",
                "shape": 7
              }
            ],
            "outputs": [
              {
                "name": "image_embeds",
                "type": "WANVIDIMAGE_EMBEDS",
                "links": [608],
                "localized_name": "image_embeds"
              }
            ],
            "properties": {
              "Node name for S&R": "WanVideoAddSCAILReferenceEmbeds",
              "cnr_id": "ComfyUI-WanVideoWrapper",
              "aux_id": "kijai/ComfyUI-WanVideoWrapper",
              "ver": "98f8e56bcacfc07e12cbb4b26555b2b28d9db92f"
            },
            "widgets_values": [1, 0, 1],
            "color": "#323",
            "bgcolor": "#535"
          },
          {
            "id": 362,
            "type": "RenderNLFPoses",
            "pos": [443.42436311525387, -2326.1328555585546],
            "size": [270, 242],
            "flags": {},
            "order": 30,
            "mode": 0,
            "inputs": [
              {
                "name": "nlf_poses",
                "type": "NLFPRED",
                "link": 621,
                "localized_name": "nlf_poses"
              },
              {
                "name": "dw_poses",
                "type": "DWPOSES",
                "link": 626,
                "localized_name": "dw_poses",
                "shape": 7
              },
              {
                "name": "ref_dw_pose",
                "type": "DWPOSES",
                "link": 633,
                "localized_name": "ref_dw_pose",
                "shape": 7
              },
              {
                "name": "width",
                "type": "INT",
                "link": 656,
                "localized_name": "width",
                "widget": {
                  "name": "width"
                }
              },
              {
                "name": "height",
                "type": "INT",
                "link": 658,
                "localized_name": "height",
                "widget": {
                  "name": "height"
                }
              }
            ],
            "outputs": [
              {
                "name": "image",
                "type": "IMAGE",
                "links": [622, 623],
                "localized_name": "image"
              },
              {
                "name": "mask",
                "type": "MASK",
                "links": [],
                "localized_name": "mask"
              }
            ],
            "properties": {
              "Node name for S&R": "RenderNLFPoses",
              "cnr_id": "comfyui-scail-pose",
              "aux_id": "kijai/ComfyUI-SCAIL-Pose",
              "ver": "93059f0fe4ea3881c0d6ec0e327e5d920554277d"
            },
            "widgets_values": [512, 896, true, true, "gpu"]
          },
          {
            "id": 355,
            "type": "WanVideoContextOptions",
            "pos": [727.2726009942188, 33.84580839648422],
            "size": [286.8515625, 202],
            "flags": {},
            "order": 11,
            "mode": 0,
            "inputs": [
              {
                "name": "reference_latent",
                "type": "LATENT",
                "link": null,
                "localized_name": "reference_latent",
                "shape": 7
              }
            ],
            "outputs": [
              {
                "name": "context_options",
                "type": "WANVIDCONTEXT",
                "links": [614],
                "localized_name": "context_options"
              }
            ],
            "properties": {
              "Node name for S&R": "WanVideoContextOptions",
              "cnr_id": "ComfyUI-WanVideoWrapper",
              "aux_id": "kijai/ComfyUI-WanVideoWrapper",
              "ver": "98f8e56bcacfc07e12cbb4b26555b2b28d9db92f"
            },
            "widgets_values": ["uniform_standard", 81, 4, 48, true, false, "linear"]
          },
          {
            "id": 349,
            "type": "WanVideoSchedulerv2",
            "pos": [1090.6422666072551, -518.0176348954672],
            "size": [295.7647745576885, 445.7936651608752],
            "flags": {},
            "order": 12,
            "mode": 0,
            "inputs": [
              {
                "name": "sigmas",
                "type": "SIGMAS",
                "link": null,
                "localized_name": "sigmas",
                "shape": 7
              }
            ],
            "outputs": [
              {
                "name": "scheduler",
                "type": "WANVIDEOSCHEDULER",
                "links": [598],
                "localized_name": "scheduler"
              }
            ],
            "properties": {
              "Node name for S&R": "WanVideoSchedulerv2",
              "cnr_id": "ComfyUI-WanVideoWrapper",
              "aux_id": "kijai/ComfyUI-WanVideoWrapper",
              "ver": "98f8e56bcacfc07e12cbb4b26555b2b28d9db92f"
            },
            "widgets_values": ["dpm++_sde", 6, 7, 0, -1]
          },
          {
            "id": 107,
            "type": "ImageResizeKJv2",
            "pos": [-819.5913362089606, -1778.1996250822062],
            "size": [270, 336],
            "flags": {},
            "order": 17,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "image",
                "name": "image",
                "type": "IMAGE",
                "link": 564
              },
              {
                "localized_name": "mask",
                "name": "mask",
                "shape": 7,
                "type": "MASK",
                "link": null
              },
              {
                "localized_name": "width",
                "name": "width",
                "type": "INT",
                "widget": {
                  "name": "width"
                },
                "link": 676
              },
              {
                "localized_name": "height",
                "name": "height",
                "type": "INT",
                "widget": {
                  "name": "height"
                },
                "link": 663
              }
            ],
            "outputs": [
              {
                "localized_name": "IMAGE",
                "name": "IMAGE",
                "type": "IMAGE",
                "links": [609, 630]
              },
              {
                "localized_name": "width",
                "name": "width",
                "type": "INT",
                "links": [665]
              },
              {
                "localized_name": "height",
                "name": "height",
                "type": "INT",
                "links": [666]
              },
              {
                "localized_name": "mask",
                "name": "mask",
                "type": "MASK",
                "links": null
              }
            ],
            "properties": {
              "cnr_id": "comfyui-kjnodes",
              "ver": "50e7dd34d3b6e6bbab1d41e8068e1ddd19bd4d1b",
              "Node name for S&R": "ImageResizeKJv2",
              "aux_id": "kijai/ComfyUI-KJNodes"
            },
            "widgets_values": [480, 832, "lanczos", "crop", "255,255,255", "center", 32, "cpu"]
          }
        ],
        "groups": [
          {
            "id": 4,
            "title": "Models",
            "bounding": [-930, -1320, 645.6896274024377, 969.4349854092851],
            "color": "#3f789e",
            "font_size": 24,
            "flags": {}
          },
          {
            "id": 5,
            "title": "Prompt",
            "bounding": [-220, -1000, 444.569194714732, 456.85066467272316],
            "color": "#3f789e",
            "font_size": 24,
            "flags": {}
          }
        ],
        "links": [
          {
            "id": 665,
            "origin_id": 107,
            "origin_slot": 1,
            "target_id": 99,
            "target_slot": 2,
            "type": "INT"
          },
          {
            "id": 666,
            "origin_id": 107,
            "origin_slot": 2,
            "target_id": 99,
            "target_slot": 3,
            "type": "INT"
          },
          {
            "id": 622,
            "origin_id": 362,
            "origin_slot": 0,
            "target_id": 338,
            "target_slot": 0,
            "type": "IMAGE"
          },
          {
            "id": 668,
            "origin_id": 38,
            "origin_slot": 0,
            "target_id": 28,
            "target_slot": 0,
            "type": "WANVAE"
          },
          {
            "id": 596,
            "origin_id": 348,
            "origin_slot": 0,
            "target_id": 28,
            "target_slot": 1,
            "type": "LATENT"
          },
          {
            "id": 621,
            "origin_id": 334,
            "origin_slot": 0,
            "target_id": 362,
            "target_slot": 0,
            "type": "NLFPRED"
          },
          {
            "id": 626,
            "origin_id": 363,
            "origin_slot": 0,
            "target_id": 362,
            "target_slot": 1,
            "type": "DWPOSES"
          },
          {
            "id": 633,
            "origin_id": 365,
            "origin_slot": 0,
            "target_id": 362,
            "target_slot": 2,
            "type": "DWPOSES"
          },
          {
            "id": 656,
            "origin_id": 382,
            "origin_slot": 0,
            "target_id": 362,
            "target_slot": 3,
            "type": "INT"
          },
          {
            "id": 658,
            "origin_id": 383,
            "origin_slot": 0,
            "target_id": 362,
            "target_slot": 4,
            "type": "INT"
          },
          {
            "id": 604,
            "origin_id": 99,
            "origin_slot": 0,
            "target_id": 350,
            "target_slot": 0,
            "type": "WANVIDIMAGE_EMBEDS"
          },
          {
            "id": 669,
            "origin_id": 38,
            "origin_slot": 0,
            "target_id": 350,
            "target_slot": 1,
            "type": "WANVAE"
          },
          {
            "id": 612,
            "origin_id": 351,
            "origin_slot": 0,
            "target_id": 350,
            "target_slot": 2,
            "type": "IMAGE"
          },
          {
            "id": 607,
            "origin_id": 327,
            "origin_slot": 0,
            "target_id": 350,
            "target_slot": 3,
            "type": "WANVIDIMAGE_CLIPEMBEDS"
          },
          {
            "id": 608,
            "origin_id": 350,
            "origin_slot": 0,
            "target_id": 324,
            "target_slot": 0,
            "type": "WANVIDIMAGE_EMBEDS"
          },
          {
            "id": 667,
            "origin_id": 38,
            "origin_slot": 0,
            "target_id": 324,
            "target_slot": 1,
            "type": "WANVAE"
          },
          {
            "id": 583,
            "origin_id": 338,
            "origin_slot": 0,
            "target_id": 324,
            "target_slot": 2,
            "type": "IMAGE"
          },
          {
            "id": 659,
            "origin_id": 384,
            "origin_slot": 0,
            "target_id": 334,
            "target_slot": 0,
            "type": "NLFMODEL"
          },
          {
            "id": 641,
            "origin_id": 370,
            "origin_slot": 0,
            "target_id": 334,
            "target_slot": 1,
            "type": "IMAGE"
          },
          {
            "id": 640,
            "origin_id": 131,
            "origin_slot": 0,
            "target_id": 370,
            "target_slot": 0,
            "type": "IMAGE"
          },
          {
            "id": 627,
            "origin_id": 364,
            "origin_slot": 0,
            "target_id": 363,
            "target_slot": 0,
            "type": "POSEMODEL"
          },
          {
            "id": 642,
            "origin_id": 370,
            "origin_slot": 0,
            "target_id": 363,
            "target_slot": 1,
            "type": "IMAGE"
          },
          {
            "id": 629,
            "origin_id": 364,
            "origin_slot": 0,
            "target_id": 365,
            "target_slot": 0,
            "type": "POSEMODEL"
          },
          {
            "id": 630,
            "origin_id": 107,
            "origin_slot": 0,
            "target_id": 365,
            "target_slot": 1,
            "type": "IMAGE"
          },
          {
            "id": 614,
            "origin_id": 355,
            "origin_slot": 0,
            "target_id": 354,
            "target_slot": 1,
            "type": "WANVIDCONTEXT"
          },
          {
            "id": 670,
            "origin_id": 80,
            "origin_slot": 0,
            "target_id": 348,
            "target_slot": 0,
            "type": "WANVIDEOMODEL"
          },
          {
            "id": 600,
            "origin_id": 324,
            "origin_slot": 0,
            "target_id": 348,
            "target_slot": 1,
            "type": "WANVIDIMAGE_EMBEDS"
          },
          {
            "id": 598,
            "origin_id": 349,
            "origin_slot": 0,
            "target_id": 348,
            "target_slot": 2,
            "type": "WANVIDEOSCHEDULER"
          },
          {
            "id": 671,
            "origin_id": 368,
            "origin_slot": 0,
            "target_id": 348,
            "target_slot": 3,
            "type": "WANVIDEOTEXTEMBEDS"
          },
          {
            "id": 652,
            "origin_id": 354,
            "origin_slot": 0,
            "target_id": 348,
            "target_slot": 5,
            "type": "WANVIDSAMPLEREXTRAARGS"
          },
          {
            "id": 543,
            "origin_id": 28,
            "origin_slot": 0,
            "target_id": 323,
            "target_slot": 0,
            "type": "IMAGE"
          },
          {
            "id": 554,
            "origin_id": 326,
            "origin_slot": 0,
            "target_id": 327,
            "target_slot": 0,
            "type": "CLIP_VISION"
          },
          {
            "id": 611,
            "origin_id": 351,
            "origin_slot": 0,
            "target_id": 327,
            "target_slot": 1,
            "type": "IMAGE"
          },
          {
            "id": 636,
            "origin_id": 338,
            "origin_slot": 0,
            "target_id": 328,
            "target_slot": 0,
            "type": "IMAGE"
          },
          {
            "id": 653,
            "origin_id": 131,
            "origin_slot": 0,
            "target_id": 328,
            "target_slot": 1,
            "type": "IMAGE"
          },
          {
            "id": 623,
            "origin_id": 362,
            "origin_slot": 0,
            "target_id": 137,
            "target_slot": 0,
            "type": "IMAGE"
          },
          {
            "id": 609,
            "origin_id": 107,
            "origin_slot": 0,
            "target_id": 351,
            "target_slot": 0,
            "type": "IMAGE"
          },
          {
            "id": 654,
            "origin_id": 22,
            "origin_slot": 0,
            "target_id": 80,
            "target_slot": 0,
            "type": "WANVIDEOMODEL"
          },
          {
            "id": 110,
            "origin_id": 56,
            "origin_slot": 0,
            "target_id": 80,
            "target_slot": 1,
            "type": "WANVIDLORA"
          },
          {
            "id": 664,
            "origin_id": -10,
            "origin_slot": 0,
            "target_id": 99,
            "target_slot": 4,
            "type": "INT"
          },
          {
            "id": 672,
            "origin_id": -10,
            "origin_slot": 1,
            "target_id": 348,
            "target_slot": 6,
            "type": "FLOAT"
          },
          {
            "id": 674,
            "origin_id": -10,
            "origin_slot": 2,
            "target_id": 383,
            "target_slot": 0,
            "type": "INT"
          },
          {
            "id": 663,
            "origin_id": -10,
            "origin_slot": 2,
            "target_id": 107,
            "target_slot": 3,
            "type": "INT"
          },
          {
            "id": 662,
            "origin_id": -10,
            "origin_slot": 2,
            "target_id": 131,
            "target_slot": 3,
            "type": "INT"
          },
          {
            "id": 673,
            "origin_id": -10,
            "origin_slot": 3,
            "target_id": 382,
            "target_slot": 0,
            "type": "INT"
          },
          {
            "id": 660,
            "origin_id": -10,
            "origin_slot": 3,
            "target_id": 131,
            "target_slot": 2,
            "type": "INT"
          },
          {
            "id": 564,
            "origin_id": -10,
            "origin_slot": 4,
            "target_id": 107,
            "target_slot": 0,
            "type": "IMAGE"
          },
          {
            "id": 234,
            "origin_id": -10,
            "origin_slot": 5,
            "target_id": 131,
            "target_slot": 0,
            "type": "IMAGE"
          },
          {
            "id": 651,
            "origin_id": 318,
            "origin_slot": 0,
            "target_id": -20,
            "target_slot": 0,
            "type": "IMAGE"
          },
          {
            "id": 544,
            "origin_id": 323,
            "origin_slot": 0,
            "target_id": -20,
            "target_slot": 1,
            "type": "IMAGE"
          },
          {
            "id": 675,
            "origin_id": -10,
            "origin_slot": 3,
            "target_id": 107,
            "target_slot": 2,
            "type": "INT"
          },
          {
            "id": 676,
            "origin_id": -10,
            "origin_slot": 3,
            "target_id": 107,
            "target_slot": 2,
            "type": "INT"
          },
          {
            "id": 677,
            "origin_id": -10,
            "origin_slot": 4,
            "target_id": 385,
            "target_slot": 0,
            "type": "IMAGE"
          },
          {
            "id": 678,
            "origin_id": -10,
            "origin_slot": 0,
            "target_id": 385,
            "target_slot": 1,
            "type": "INT"
          },
          {
            "id": 679,
            "origin_id": 328,
            "origin_slot": 0,
            "target_id": 386,
            "target_slot": 0,
            "type": "IMAGE"
          },
          {
            "id": 680,
            "origin_id": 385,
            "origin_slot": 0,
            "target_id": 386,
            "target_slot": 1,
            "type": "IMAGE"
          },
          {
            "id": 681,
            "origin_id": 386,
            "origin_slot": 0,
            "target_id": 318,
            "target_slot": 0,
            "type": "IMAGE"
          },
          {
            "id": 682,
            "origin_id": 28,
            "origin_slot": 0,
            "target_id": 318,
            "target_slot": 1,
            "type": "IMAGE"
          },
          {
            "id": 683,
            "origin_id": -10,
            "origin_slot": 6,
            "target_id": 368,
            "target_slot": 1,
            "type": "STRING"
          }
        ],
        "extra": {
          "workflowRendererVersion": "LG"
        }
      }
    ]
  },
  "config": {},
  "extra": {
    "ds": {
      "scale": 0.8954302432553526,
      "offset": [2778.2495809090206, 2851.6813916284646]
    },
    "frontendVersion": "1.36.14",
    "workflowRendererVersion": "LG",
    "VHS_KeepIntermediate": true,
    "VHS_MetadataImage": true,
    "VHS_latentpreview": false,
    "VHS_latentpreviewrate": 0,
    "node_versions": {
      "ComfyUI-VideoHelperSuite": "0a75c7958fe320efcb052f1d9f8451fd20c730a8",
      "ComfyUI-WanVideoWrapper": "5a2383621a05825d0d0437781afcb8552d9590fd",
      "comfy-core": "0.3.26"
    }
  },
  "version": 0.4
}
