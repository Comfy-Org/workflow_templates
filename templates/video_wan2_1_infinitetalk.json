{
  "id": "4795b4f0-7caa-4281-9a43-86d1770433f4",
  "revision": 0,
  "last_node_id": 166,
  "last_link_id": 515,
  "nodes": [
    {
      "id": 13,
      "type": "UNETLoader",
      "pos": [
        66.00048330508623,
        -1061.9998890124293
      ],
      "size": [
        509.89583333333337,
        82
      ],
      "flags": {},
      "order": 0,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            48
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.57",
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65,
        "Node name for S&R": "UNETLoader",
        "models": [
          {
            "name": "Wan2_1-I2V-14B-480p_fp8_e4m3fn_scaled_KJ.safetensors",
            "url": "https://huggingface.co/Kijai/WanVideo_comfy_fp8_scaled/resolve/main/I2V/Wan2_1-I2V-14B-480p_fp8_e4m3fn_scaled_KJ.safetensors",
            "directory": "diffusion_models"
          }
        ]
      },
      "widgets_values": [
        "Wan2_1-I2V-14B-480p_fp8_e4m3fn_scaled_KJ.safetensors",
        "default"
      ]
    },
    {
      "id": 16,
      "type": "CLIPLoader",
      "pos": [
        66.00048330508623,
        -491.9995341101534
      ],
      "size": [
        509.89583333333337,
        106
      ],
      "flags": {},
      "order": 1,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "CLIP",
          "type": "CLIP",
          "links": [
            14
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.57",
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65,
        "Node name for S&R": "CLIPLoader",
        "models": [
          {
            "name": "umt5_xxl_fp8_e4m3fn_scaled.safetensors",
            "url": "https://huggingface.co/Comfy-Org/Wan_2.1_ComfyUI_repackaged/resolve/main/split_files/text_encoders/umt5_xxl_fp8_e4m3fn_scaled.safetensors",
            "directory": "text_encoders"
          }
        ]
      },
      "widgets_values": [
        "umt5_xxl_fp8_e4m3fn_scaled.safetensors",
        "wan",
        "default"
      ]
    },
    {
      "id": 140,
      "type": "CreateVideo",
      "pos": [
        2660,
        -50
      ],
      "size": [
        269.921875,
        78
      ],
      "flags": {},
      "order": 39,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 436
        },
        {
          "name": "audio",
          "shape": 7,
          "type": "AUDIO",
          "link": 435
        }
      ],
      "outputs": [
        {
          "name": "VIDEO",
          "type": "VIDEO",
          "links": [
            434
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.10.0",
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65,
        "Node name for S&R": "CreateVideo"
      },
      "widgets_values": [
        25
      ]
    },
    {
      "id": 90,
      "type": "LoadAudio",
      "pos": [
        535.9998427676692,
        -112.000397721073
      ],
      "size": [
        273.95833333333337,
        136
      ],
      "flags": {},
      "order": 2,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "AUDIO",
          "type": "AUDIO",
          "links": [
            441,
            442
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.57",
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65,
        "Node name for S&R": "LoadAudio"
      },
      "widgets_values": [
        "audio_speaker2_man.mp3",
        null,
        null
      ]
    },
    {
      "id": 126,
      "type": "ImageFromBatch",
      "pos": [
        2660,
        -320
      ],
      "size": [
        269.921875,
        82
      ],
      "flags": {},
      "order": 37,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 377
        },
        {
          "name": "batch_index",
          "type": "INT",
          "widget": {
            "name": "batch_index"
          },
          "link": 407
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            380
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.5.1",
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65,
        "Node name for S&R": "ImageFromBatch"
      },
      "widgets_values": [
        0,
        4096
      ]
    },
    {
      "id": 149,
      "type": "PrimitiveInt",
      "pos": [
        940,
        -150
      ],
      "size": [
        269.921875,
        82
      ],
      "flags": {},
      "order": 3,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "links": [
            473,
            474
          ]
        }
      ],
      "title": "Width",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.10.0",
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65,
        "Node name for S&R": "PrimitiveInt"
      },
      "widgets_values": [
        832,
        "fixed"
      ]
    },
    {
      "id": 29,
      "type": "VAELoader",
      "pos": [
        66.00048330508623,
        -311.99991312247585
      ],
      "size": [
        509.89583333333337,
        58
      ],
      "flags": {},
      "order": 4,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "VAE",
          "type": "VAE",
          "links": [
            477
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.57",
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65,
        "Node name for S&R": "VAELoader",
        "models": [
          {
            "name": "Wan2_1_VAE_bf16.safetensors",
            "url": "https://huggingface.co/Kijai/WanVideo_comfy/resolve/main/Wan2_1_VAE_bf16.safetensors",
            "directory": "vae"
          }
        ]
      },
      "widgets_values": [
        "Wan2_1_VAE_bf16.safetensors"
      ]
    },
    {
      "id": 153,
      "type": "Reroute",
      "pos": [
        1310,
        -640
      ],
      "size": [
        75,
        26
      ],
      "flags": {},
      "order": 16,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 477
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "VAE",
          "links": [
            478,
            479,
            480,
            481
          ]
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      }
    },
    {
      "id": 155,
      "type": "Reroute",
      "pos": [
        1310,
        -550
      ],
      "size": [
        75,
        26
      ],
      "flags": {},
      "order": 19,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 487
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "MASK",
          "links": [
            488,
            489
          ]
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      }
    },
    {
      "id": 154,
      "type": "Reroute",
      "pos": [
        1310,
        -730
      ],
      "size": [
        75,
        26
      ],
      "flags": {},
      "order": 18,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 483
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "IMAGE",
          "links": [
            484,
            485
          ]
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      }
    },
    {
      "id": 33,
      "type": "LoraLoaderModelOnly",
      "pos": [
        66.00048330508623,
        -901.999718121916
      ],
      "size": [
        509.89583333333337,
        82
      ],
      "flags": {},
      "order": 14,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 48
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            495
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.57",
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65,
        "Node name for S&R": "LoraLoaderModelOnly",
        "models": [
          {
            "name": "lightx2v_I2V_14B_480p_cfg_step_distill_rank64_bf16.safetensors",
            "url": "https://huggingface.co/Kijai/WanVideo_comfy/resolve/main/Lightx2v/lightx2v_I2V_14B_480p_cfg_step_distill_rank64_bf16.safetensors",
            "directory": "loras"
          }
        ]
      },
      "widgets_values": [
        "lightx2v_I2V_14B_480p_cfg_step_distill_rank64_bf16.safetensors",
        1
      ]
    },
    {
      "id": 150,
      "type": "PrimitiveInt",
      "pos": [
        940,
        -20
      ],
      "size": [
        269.921875,
        82
      ],
      "flags": {},
      "order": 5,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "links": [
            499,
            500
          ]
        }
      ],
      "title": "Height",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.10.0",
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65,
        "Node name for S&R": "PrimitiveInt"
      },
      "widgets_values": [
        480,
        "fixed"
      ]
    },
    {
      "id": 157,
      "type": "Reroute",
      "pos": [
        1310,
        -810
      ],
      "size": [
        75,
        26
      ],
      "flags": {},
      "order": 23,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 495
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "MODEL",
          "links": [
            496,
            497
          ]
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      }
    },
    {
      "id": 159,
      "type": "Reroute",
      "pos": [
        1310,
        -900
      ],
      "size": [
        75,
        26
      ],
      "flags": {},
      "order": 28,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 506
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "CONDITIONING",
          "links": [
            507,
            508
          ]
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      }
    },
    {
      "id": 160,
      "type": "Reroute",
      "pos": [
        1310,
        -390
      ],
      "size": [
        75,
        26
      ],
      "flags": {},
      "order": 27,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 509
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "AUDIO_ENCODER_OUTPUT",
          "links": [
            510,
            511
          ]
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      }
    },
    {
      "id": 161,
      "type": "Reroute",
      "pos": [
        1320,
        -310
      ],
      "size": [
        75,
        26
      ],
      "flags": {},
      "order": 26,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 514
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "AUDIO_ENCODER_OUTPUT",
          "links": [
            512,
            513
          ]
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      }
    },
    {
      "id": 113,
      "type": "AudioConcat",
      "pos": [
        940,
        130
      ],
      "size": [
        269.921875,
        78
      ],
      "flags": {},
      "order": 22,
      "mode": 0,
      "inputs": [
        {
          "name": "audio1",
          "type": "AUDIO",
          "link": 440
        },
        {
          "name": "audio2",
          "type": "AUDIO",
          "link": 442
        }
      ],
      "outputs": [
        {
          "name": "AUDIO",
          "type": "AUDIO",
          "links": [
            430,
            435
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.67",
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65,
        "Node name for S&R": "AudioConcat"
      },
      "widgets_values": [
        "after"
      ]
    },
    {
      "id": 146,
      "type": "58374208-7916-4582-9f02-035a4536f14b",
      "pos": [
        1950,
        -320
      ],
      "size": [
        309.89583333333337,
        262
      ],
      "flags": {},
      "order": 34,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 451
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 452
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 453
        },
        {
          "name": "latent_image",
          "type": "LATENT",
          "link": 454
        }
      ],
      "outputs": [
        {
          "name": "output",
          "type": "LATENT",
          "links": [
            455
          ]
        }
      ],
      "properties": {
        "proxyWidgets": [
          [
            "108",
            "sampler_name"
          ],
          [
            "107",
            "cfg"
          ],
          [
            "19",
            "scheduler"
          ],
          [
            "19",
            "steps"
          ],
          [
            "19",
            "denoise"
          ],
          [
            "106",
            "noise_seed"
          ],
          [
            "106",
            "control_after_generate"
          ]
        ],
        "cnr_id": "comfy-core",
        "ver": "0.10.0",
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65
      },
      "widgets_values": []
    },
    {
      "id": 124,
      "type": "VAEDecode",
      "pos": [
        2390,
        -330
      ],
      "size": [
        189.97395833333334,
        46
      ],
      "flags": {},
      "order": 36,
      "mode": 0,
      "inputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "link": 455
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 479
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            377
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.5.1",
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65,
        "Node name for S&R": "VAEDecode"
      },
      "widgets_values": []
    },
    {
      "id": 119,
      "type": "VAEDecode",
      "pos": [
        2390,
        -1010
      ],
      "size": [
        189.97395833333334,
        46
      ],
      "flags": {
        "collapsed": false
      },
      "order": 31,
      "mode": 0,
      "inputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "link": 450
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 478
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            379,
            402,
            429
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.5.1",
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65,
        "Node name for S&R": "VAEDecode"
      },
      "widgets_values": []
    },
    {
      "id": 17,
      "type": "ConditioningZeroOut",
      "pos": [
        890,
        -720
      ],
      "size": [
        204.134765625,
        26
      ],
      "flags": {
        "collapsed": false
      },
      "order": 25,
      "mode": 0,
      "inputs": [
        {
          "name": "conditioning",
          "type": "CONDITIONING",
          "link": 505
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            506
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.57",
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65,
        "Node name for S&R": "ConditioningZeroOut"
      },
      "widgets_values": []
    },
    {
      "id": 145,
      "type": "16c4feb3-9adc-4bfd-ab30-e57cab73ffbf",
      "pos": [
        1950,
        -1010
      ],
      "size": [
        309.89583333333337,
        262
      ],
      "flags": {},
      "order": 30,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 446
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 447
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 448
        },
        {
          "name": "latent_image",
          "type": "LATENT",
          "link": 449
        }
      ],
      "outputs": [
        {
          "name": "output",
          "type": "LATENT",
          "links": [
            450
          ]
        }
      ],
      "properties": {
        "proxyWidgets": [
          [
            "108",
            "sampler_name"
          ],
          [
            "107",
            "cfg"
          ],
          [
            "19",
            "scheduler"
          ],
          [
            "19",
            "steps"
          ],
          [
            "19",
            "denoise"
          ],
          [
            "106",
            "noise_seed"
          ],
          [
            "106",
            "control_after_generate"
          ]
        ],
        "cnr_id": "comfy-core",
        "ver": "0.10.0",
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65
      },
      "widgets_values": []
    },
    {
      "id": 138,
      "type": "CreateVideo",
      "pos": [
        2630,
        -1010
      ],
      "size": [
        269.921875,
        78
      ],
      "flags": {},
      "order": 33,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 429
        },
        {
          "name": "audio",
          "shape": 7,
          "type": "AUDIO",
          "link": 430
        }
      ],
      "outputs": [
        {
          "name": "VIDEO",
          "type": "VIDEO",
          "links": [
            515
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.10.0",
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65,
        "Node name for S&R": "CreateVideo"
      },
      "widgets_values": [
        25
      ]
    },
    {
      "id": 162,
      "type": "SaveVideo",
      "pos": [
        2960,
        -1010
      ],
      "size": [
        590,
        438.38461538461536
      ],
      "flags": {},
      "order": 35,
      "mode": 0,
      "inputs": [
        {
          "name": "video",
          "type": "VIDEO",
          "link": 515
        }
      ],
      "outputs": [],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.10.0",
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65,
        "Node name for S&R": "SaveVideo"
      },
      "widgets_values": [
        "video/ComfyUI",
        "auto",
        "auto"
      ]
    },
    {
      "id": 129,
      "type": "WanInfiniteTalkToVideo",
      "pos": [
        1600,
        -1010
      ],
      "size": [
        302.2135416666667,
        398
      ],
      "flags": {},
      "order": 29,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 496
        },
        {
          "name": "model_patch",
          "type": "MODEL_PATCH",
          "link": 385
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 503
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 507
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 480
        },
        {
          "name": "audio_encoder_output_1",
          "type": "AUDIO_ENCODER_OUTPUT",
          "link": 510
        },
        {
          "name": "clip_vision_output",
          "shape": 7,
          "type": "CLIP_VISION_OUTPUT",
          "link": null
        },
        {
          "name": "start_image",
          "shape": 7,
          "type": "IMAGE",
          "link": 484
        },
        {
          "name": "previous_frames",
          "shape": 7,
          "type": "IMAGE",
          "link": null
        },
        {
          "label": "audio_encoder_output_2",
          "name": "mode.audio_encoder_output_2",
          "shape": 7,
          "type": "AUDIO_ENCODER_OUTPUT",
          "link": 512
        },
        {
          "label": "mask_1",
          "name": "mode.mask_1",
          "shape": 7,
          "type": "MASK",
          "link": 489
        },
        {
          "label": "mask_2",
          "name": "mode.mask_2",
          "shape": 7,
          "type": "MASK",
          "link": 492
        },
        {
          "name": "width",
          "type": "INT",
          "widget": {
            "name": "width"
          },
          "link": 474
        },
        {
          "name": "height",
          "type": "INT",
          "widget": {
            "name": "height"
          },
          "link": 500
        }
      ],
      "outputs": [
        {
          "name": "model",
          "type": "MODEL",
          "links": [
            446
          ]
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "links": [
            447
          ]
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "links": [
            448
          ]
        },
        {
          "name": "latent",
          "type": "LATENT",
          "links": [
            449
          ]
        },
        {
          "name": "trim_image",
          "type": "INT",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.5.1",
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65,
        "Node name for S&R": "WanInfiniteTalkToVideo"
      },
      "widgets_values": [
        "two_speakers",
        832,
        480,
        81,
        9,
        1
      ]
    },
    {
      "id": 14,
      "type": "CLIPTextEncode",
      "pos": [
        636.0001399956232,
        -1051.9999418055668
      ],
      "size": [
        460,
        290
      ],
      "flags": {},
      "order": 15,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 14
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            501,
            505
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.57",
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65,
        "Node name for S&R": "CLIPTextEncode"
      },
      "widgets_values": [
        "The camera zooms in. Two characters are talking."
      ],
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 156,
      "type": "Reroute",
      "pos": [
        1310,
        -460
      ],
      "size": [
        75,
        26
      ],
      "flags": {},
      "order": 20,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 494
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "MASK",
          "links": [
            491,
            492
          ]
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      }
    },
    {
      "id": 163,
      "type": "MarkdownNote",
      "pos": [
        1940,
        0
      ],
      "size": [
        380,
        190
      ],
      "flags": {},
      "order": 6,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {},
      "widgets_values": [
        "Each **Video Extend** group will extend 81/25=3.24s\n\nSo, if you want the output video to match the length of the input audio. For example, if your input audio is 9 seconds in total.\n\n1. You need to manually box-select this Video Extend group. \n2. Press Ctrl-C, then Ctrl-Shift-V, to duplicate a new extend module.\n3. Then linking the Batch Images node's IMAGE output to the new **WanInfiniteTalkToVideo** node's **previous_frames**\n4. Linking the Batch Images node's IMAGE output to the new Batch Images node's image1"
      ],
      "color": "#222",
      "bgcolor": "#000"
    },
    {
      "id": 127,
      "type": "ImageBatch",
      "pos": [
        2670,
        -180
      ],
      "size": [
        189.97395833333334,
        46
      ],
      "flags": {},
      "order": 38,
      "mode": 0,
      "inputs": [
        {
          "name": "image1",
          "type": "IMAGE",
          "link": 379
        },
        {
          "name": "image2",
          "type": "IMAGE",
          "link": 380
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            436
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.5.1",
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65,
        "Node name for S&R": "ImageBatch"
      },
      "widgets_values": [],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 130,
      "type": "WanInfiniteTalkToVideo",
      "pos": [
        1610,
        -320
      ],
      "size": [
        302.2135416666667,
        398
      ],
      "flags": {},
      "order": 32,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 497
        },
        {
          "name": "model_patch",
          "type": "MODEL_PATCH",
          "link": 396
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 504
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 508
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 481
        },
        {
          "name": "audio_encoder_output_1",
          "type": "AUDIO_ENCODER_OUTPUT",
          "link": 511
        },
        {
          "name": "clip_vision_output",
          "shape": 7,
          "type": "CLIP_VISION_OUTPUT",
          "link": null
        },
        {
          "name": "start_image",
          "shape": 7,
          "type": "IMAGE",
          "link": 485
        },
        {
          "name": "previous_frames",
          "shape": 7,
          "type": "IMAGE",
          "link": 402
        },
        {
          "label": "audio_encoder_output_2",
          "name": "mode.audio_encoder_output_2",
          "shape": 7,
          "type": "AUDIO_ENCODER_OUTPUT",
          "link": 513
        },
        {
          "label": "mask_1",
          "name": "mode.mask_1",
          "shape": 7,
          "type": "MASK",
          "link": 488
        },
        {
          "label": "mask_2",
          "name": "mode.mask_2",
          "shape": 7,
          "type": "MASK",
          "link": 491
        },
        {
          "name": "width",
          "type": "INT",
          "widget": {
            "name": "width"
          },
          "link": 473
        },
        {
          "name": "height",
          "type": "INT",
          "widget": {
            "name": "height"
          },
          "link": 499
        }
      ],
      "outputs": [
        {
          "name": "model",
          "type": "MODEL",
          "links": [
            451
          ]
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "links": [
            452
          ]
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "links": [
            453
          ]
        },
        {
          "name": "latent",
          "type": "LATENT",
          "links": [
            454
          ]
        },
        {
          "name": "trim_image",
          "type": "INT",
          "links": [
            407
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.5.1",
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65,
        "Node name for S&R": "WanInfiniteTalkToVideo"
      },
      "widgets_values": [
        "two_speakers",
        832,
        480,
        81,
        9,
        1
      ],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 25,
      "type": "AudioEncoderEncode",
      "pos": [
        930,
        -350
      ],
      "size": [
        285.169921875,
        46
      ],
      "flags": {
        "collapsed": true
      },
      "order": 21,
      "mode": 0,
      "inputs": [
        {
          "name": "audio_encoder",
          "type": "AUDIO_ENCODER",
          "link": 437
        },
        {
          "name": "audio",
          "type": "AUDIO",
          "link": 439
        }
      ],
      "outputs": [
        {
          "name": "AUDIO_ENCODER_OUTPUT",
          "type": "AUDIO_ENCODER_OUTPUT",
          "links": [
            509
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.57",
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65,
        "Node name for S&R": "AudioEncoderEncode"
      },
      "widgets_values": []
    },
    {
      "id": 93,
      "type": "AudioEncoderEncode",
      "pos": [
        930,
        -260
      ],
      "size": [
        285.169921875,
        46
      ],
      "flags": {
        "collapsed": true
      },
      "order": 17,
      "mode": 0,
      "inputs": [
        {
          "name": "audio_encoder",
          "type": "AUDIO_ENCODER",
          "link": 438
        },
        {
          "name": "audio",
          "type": "AUDIO",
          "link": 441
        }
      ],
      "outputs": [
        {
          "name": "AUDIO_ENCODER_OUTPUT",
          "type": "AUDIO_ENCODER_OUTPUT",
          "links": [
            514
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.57",
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65,
        "Node name for S&R": "AudioEncoderEncode"
      },
      "widgets_values": []
    },
    {
      "id": 158,
      "type": "Reroute",
      "pos": [
        1310,
        -990
      ],
      "size": [
        75,
        26
      ],
      "flags": {},
      "order": 24,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 501
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "CONDITIONING",
          "links": [
            503,
            504
          ]
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      }
    },
    {
      "id": 112,
      "type": "ModelPatchLoader",
      "pos": [
        66.00048330508623,
        -751.9995579120598
      ],
      "size": [
        509.89583333333337,
        58
      ],
      "flags": {},
      "order": 7,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "MODEL_PATCH",
          "type": "MODEL_PATCH",
          "links": [
            385,
            396
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.67",
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65,
        "Node name for S&R": "ModelPatchLoader",
        "models": [
          {
            "name": "Wan2_1-InfiniTetalk-Single_fp16.safetensors",
            "url": "https://huggingface.co/Kijai/WanVideo_comfy/resolve/main/InfiniteTalk/Wan2_1-InfiniTetalk-Single_fp16.safetensors",
            "directory": "model_patches"
          }
        ]
      },
      "widgets_values": [
        "Wan2_1-InfiniteTalk-Multi_fp16.safetensors"
      ]
    },
    {
      "id": 26,
      "type": "AudioEncoderLoader",
      "pos": [
        66.00048330508623,
        -621.9999585907705
      ],
      "size": [
        509.89583333333337,
        58
      ],
      "flags": {},
      "order": 8,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "AUDIO_ENCODER",
          "type": "AUDIO_ENCODER",
          "links": [
            437,
            438
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.57",
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65,
        "Node name for S&R": "AudioEncoderLoader",
        "models": [
          {
            "name": "wav2vec2-chinese-base_fp16.safetensors",
            "url": "https://huggingface.co/Kijai/wav2vec2_safetensors/resolve/main/wav2vec2-chinese-base_fp16.safetensors",
            "directory": "audio_encoders"
          }
        ]
      },
      "widgets_values": [
        "wav2vec2-chinese-base_fp16.safetensors"
      ]
    },
    {
      "id": 165,
      "type": "MarkdownNote",
      "pos": [
        -620,
        -1110
      ],
      "size": [
        650,
        770
      ],
      "flags": {},
      "order": 9,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {},
      "widgets_values": [
        "## Model Links (for Local Users)\n\n**diffusion_models**\n\n- [Wan2_1-I2V-14B-480p_fp8_e4m3fn_scaled_KJ.safetensors](https://huggingface.co/Kijai/WanVideo_comfy_fp8_scaled/resolve/main/I2V/Wan2_1-I2V-14B-480p_fp8_e4m3fn_scaled_KJ.safetensors)\n\n**text_encoders**\n\n- [umt5_xxl_fp8_e4m3fn_scaled.safetensors](https://huggingface.co/Comfy-Org/Wan_2.1_ComfyUI_repackaged/resolve/main/split_files/text_encoders/umt5_xxl_fp8_e4m3fn_scaled.safetensors)\n\n**model_patches**\n\n- [Wan2_1-InfiniTetalk-Single_fp16.safetensors](https://huggingface.co/Kijai/WanVideo_comfy/resolve/main/InfiniteTalk/Wan2_1-InfiniTetalk-Single_fp16.safetensors)\n- [Wan2_1-InfiniteTalk-Multi_fp16.safetensors](https://huggingface.co/Kijai/WanVideo_comfy/resolve/main/InfiniteTalk/Wan2_1-InfiniteTalk-Multi_fp16.safetensors)\n\n**audio_encoders**\n\n- [wav2vec2-chinese-base_fp16.safetensors](https://huggingface.co/Kijai/wav2vec2_safetensors/resolve/main/wav2vec2-chinese-base_fp16.safetensors)\n\n**vae**\n\n- [Wan2_1_VAE_bf16.safetensors](https://huggingface.co/Kijai/WanVideo_comfy/resolve/main/Wan2_1_VAE_bf16.safetensors)\n\n**loras**\n\n- [lightx2v_I2V_14B_480p_cfg_step_distill_rank64_bf16.safetensors](https://huggingface.co/Kijai/WanVideo_comfy/resolve/main/Lightx2v/lightx2v_I2V_14B_480p_cfg_step_distill_rank64_bf16.safetensors)\n\n\n## Model Storage Location\n\n```\nðŸ“‚ ComfyUI/\nâ”œâ”€â”€ ðŸ“‚ models/\nâ”‚   â”œâ”€â”€ ðŸ“‚ diffusion_models/\nâ”‚   â”‚   â””â”€â”€â”€ Wan2_1-I2V-14B-480p_fp8_e4m3fn_scaled_KJ.safetensors\nâ”‚   â”œâ”€â”€ ðŸ“‚ text_encoders/\nâ”‚   â”‚   â””â”€â”€â”€ umt5_xxl_fp8_e4m3fn_scaled.safetensors\nâ”‚   â”œâ”€â”€ ðŸ“‚ model_patches/\nâ”‚   â”‚   â”œâ”€â”€â”€ Wan2_1-InfiniteTalk-Multi_fp16.safetensors\nâ”‚   â”‚   â””â”€â”€â”€ Wan2_1-InfiniTetalk-Single_fp16.safetensors\nâ”‚   â”œâ”€â”€ ðŸ“‚ audio_encoders/\nâ”‚   â”‚   â””â”€â”€â”€ wav2vec2-chinese-base_fp16.safetensors\nâ”‚   â”œâ”€â”€ ðŸ“‚ vae/\nâ”‚   â”‚   â””â”€â”€â”€ Wan2_1_VAE_bf16.safetensors\nâ”‚   â”œâ”€â”€ ðŸ“‚ loras/\nâ”‚   â”‚   â””â”€â”€â”€ lightx2v_I2V_14B_480p_cfg_step_distill_rank64_bf16.safetensors\n```\n\n## Report Issue\n\nNote: Please update ComfyUI first ([guide](https://docs.comfy.org/zh-CN/installation/update_comfyui)) and prepare required models. Desktop/Cloud ship stable builds; nightly-supported models may not be included yet, please wait for the next stable release.\n\n- Cannot run / runtime errors: [ComfyUI/issues](https://github.com/comfyanonymous/ComfyUI/issues)\n- UI / frontend issues: [ComfyUI_frontend/issues](https://github.com/Comfy-Org/ComfyUI_frontend/issues)\n- Workflow issues: [workflow_templates/issues](https://github.com/Comfy-Org/workflow_templates/issues)\n"
      ],
      "color": "#222",
      "bgcolor": "#000"
    },
    {
      "id": 141,
      "type": "SaveVideo",
      "pos": [
        3000,
        -330
      ],
      "size": [
        590,
        438.38461538461536
      ],
      "flags": {},
      "order": 40,
      "mode": 0,
      "inputs": [
        {
          "name": "video",
          "type": "VIDEO",
          "link": 434
        }
      ],
      "outputs": [],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.10.0",
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65,
        "Node name for S&R": "SaveVideo"
      },
      "widgets_values": [
        "video/ComfyUI",
        "auto",
        "auto"
      ]
    },
    {
      "id": 166,
      "type": "MarkdownNote",
      "pos": [
        80,
        490
      ],
      "size": [
        380,
        100
      ],
      "flags": {},
      "order": 10,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {},
      "widgets_values": [
        "- Upload the start frame, then right - click on the Load Image node and choose **[Open in MaskEditor](https://docs.comfy.org/interface/maskeditor)**.\n- Use the brush to draw the mask for Character 1.\n- For Character 2, you need to do the same thing: upload the first frame and draw a mask."
      ],
      "color": "#222",
      "bgcolor": "#000"
    },
    {
      "id": 32,
      "type": "LoadImage",
      "pos": [
        135.99979638415255,
        88.00019673483507
      ],
      "size": [
        273.95833333333337,
        314
      ],
      "flags": {},
      "order": 11,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            483
          ]
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": [
            487
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.57",
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65,
        "Node name for S&R": "LoadImage",
        "image": "clipspace/clipspace-painted-masked-1769419450273.png [input]"
      },
      "widgets_values": [
        "two_character_talking.png",
        "image"
      ]
    },
    {
      "id": 137,
      "type": "LoadImage",
      "pos": [
        545.999948659018,
        88.00019673483507
      ],
      "size": [
        273.95833333333337,
        314
      ],
      "flags": {},
      "order": 12,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": []
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": [
            494
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.57",
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65,
        "Node name for S&R": "LoadImage",
        "image": "clipspace/clipspace-painted-masked-1769419485678.png [input]"
      },
      "widgets_values": [
        "two_character_talking.png",
        "image"
      ]
    },
    {
      "id": 24,
      "type": "LoadAudio",
      "pos": [
        135.99985985794706,
        -112.000397721073
      ],
      "size": [
        273.95833333333337,
        136
      ],
      "flags": {},
      "order": 13,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "AUDIO",
          "type": "AUDIO",
          "links": [
            439,
            440
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.57",
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65,
        "Node name for S&R": "LoadAudio"
      },
      "widgets_values": [
        "audio_speaker1_woman.mp3",
        null,
        null
      ]
    }
  ],
  "links": [
    [
      14,
      16,
      0,
      14,
      0,
      "CLIP"
    ],
    [
      48,
      13,
      0,
      33,
      0,
      "MODEL"
    ],
    [
      377,
      124,
      0,
      126,
      0,
      "IMAGE"
    ],
    [
      379,
      119,
      0,
      127,
      0,
      "IMAGE"
    ],
    [
      380,
      126,
      0,
      127,
      1,
      "IMAGE"
    ],
    [
      385,
      112,
      0,
      129,
      1,
      "MODEL_PATCH"
    ],
    [
      396,
      112,
      0,
      130,
      1,
      "MODEL_PATCH"
    ],
    [
      402,
      119,
      0,
      130,
      8,
      "IMAGE"
    ],
    [
      407,
      130,
      4,
      126,
      1,
      "INT"
    ],
    [
      429,
      119,
      0,
      138,
      0,
      "IMAGE"
    ],
    [
      430,
      113,
      0,
      138,
      1,
      "AUDIO"
    ],
    [
      434,
      140,
      0,
      141,
      0,
      "VIDEO"
    ],
    [
      435,
      113,
      0,
      140,
      1,
      "AUDIO"
    ],
    [
      436,
      127,
      0,
      140,
      0,
      "IMAGE"
    ],
    [
      437,
      26,
      0,
      25,
      0,
      "AUDIO_ENCODER"
    ],
    [
      438,
      26,
      0,
      93,
      0,
      "AUDIO_ENCODER"
    ],
    [
      439,
      24,
      0,
      25,
      1,
      "AUDIO"
    ],
    [
      440,
      24,
      0,
      113,
      0,
      "AUDIO"
    ],
    [
      441,
      90,
      0,
      93,
      1,
      "AUDIO"
    ],
    [
      442,
      90,
      0,
      113,
      1,
      "AUDIO"
    ],
    [
      446,
      129,
      0,
      145,
      0,
      "MODEL"
    ],
    [
      447,
      129,
      1,
      145,
      1,
      "CONDITIONING"
    ],
    [
      448,
      129,
      2,
      145,
      2,
      "CONDITIONING"
    ],
    [
      449,
      129,
      3,
      145,
      3,
      "LATENT"
    ],
    [
      450,
      145,
      0,
      119,
      0,
      "LATENT"
    ],
    [
      451,
      130,
      0,
      146,
      0,
      "MODEL"
    ],
    [
      452,
      130,
      1,
      146,
      1,
      "CONDITIONING"
    ],
    [
      453,
      130,
      2,
      146,
      2,
      "CONDITIONING"
    ],
    [
      454,
      130,
      3,
      146,
      3,
      "LATENT"
    ],
    [
      455,
      146,
      0,
      124,
      0,
      "LATENT"
    ],
    [
      473,
      149,
      0,
      130,
      12,
      "INT"
    ],
    [
      474,
      149,
      0,
      129,
      12,
      "INT"
    ],
    [
      477,
      29,
      0,
      153,
      0,
      "VAE"
    ],
    [
      478,
      153,
      0,
      119,
      1,
      "VAE"
    ],
    [
      479,
      153,
      0,
      124,
      1,
      "VAE"
    ],
    [
      480,
      153,
      0,
      129,
      4,
      "VAE"
    ],
    [
      481,
      153,
      0,
      130,
      4,
      "VAE"
    ],
    [
      483,
      32,
      0,
      154,
      0,
      "IMAGE"
    ],
    [
      484,
      154,
      0,
      129,
      7,
      "IMAGE"
    ],
    [
      485,
      154,
      0,
      130,
      7,
      "IMAGE"
    ],
    [
      487,
      32,
      1,
      155,
      0,
      "MASK"
    ],
    [
      488,
      155,
      0,
      130,
      10,
      "MASK"
    ],
    [
      489,
      155,
      0,
      129,
      10,
      "MASK"
    ],
    [
      491,
      156,
      0,
      130,
      11,
      "MASK"
    ],
    [
      492,
      156,
      0,
      129,
      11,
      "MASK"
    ],
    [
      494,
      137,
      1,
      156,
      0,
      "MASK"
    ],
    [
      495,
      33,
      0,
      157,
      0,
      "MODEL"
    ],
    [
      496,
      157,
      0,
      129,
      0,
      "MODEL"
    ],
    [
      497,
      157,
      0,
      130,
      0,
      "MODEL"
    ],
    [
      499,
      150,
      0,
      130,
      13,
      "INT"
    ],
    [
      500,
      150,
      0,
      129,
      13,
      "INT"
    ],
    [
      501,
      14,
      0,
      158,
      0,
      "CONDITIONING"
    ],
    [
      503,
      158,
      0,
      129,
      2,
      "CONDITIONING"
    ],
    [
      504,
      158,
      0,
      130,
      2,
      "CONDITIONING"
    ],
    [
      505,
      14,
      0,
      17,
      0,
      "CONDITIONING"
    ],
    [
      506,
      17,
      0,
      159,
      0,
      "CONDITIONING"
    ],
    [
      507,
      159,
      0,
      129,
      3,
      "CONDITIONING"
    ],
    [
      508,
      159,
      0,
      130,
      3,
      "CONDITIONING"
    ],
    [
      509,
      25,
      0,
      160,
      0,
      "AUDIO_ENCODER_OUTPUT"
    ],
    [
      510,
      160,
      0,
      129,
      5,
      "AUDIO_ENCODER_OUTPUT"
    ],
    [
      511,
      160,
      0,
      130,
      5,
      "AUDIO_ENCODER_OUTPUT"
    ],
    [
      512,
      161,
      0,
      129,
      9,
      "AUDIO_ENCODER_OUTPUT"
    ],
    [
      513,
      161,
      0,
      130,
      9,
      "AUDIO_ENCODER_OUTPUT"
    ],
    [
      514,
      93,
      0,
      161,
      0,
      "AUDIO_ENCODER_OUTPUT"
    ],
    [
      515,
      138,
      0,
      162,
      0,
      "VIDEO"
    ]
  ],
  "groups": [
    {
      "id": 1,
      "title": "Step1 - Load Models",
      "bounding": [
        50,
        -1140,
        530,
        889.6
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 2,
      "title": "Step3 - Prompt",
      "bounding": [
        620,
        -1140,
        490,
        460
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 3,
      "title": "Base Sampling",
      "bounding": [
        1570,
        -1140,
        2200,
        710
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 4,
      "title": "Video Extend",
      "bounding": [
        1570,
        -410,
        2200,
        640
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 5,
      "title": "Step2: Character1 Audio and Mask",
      "bounding": [
        50,
        -230,
        420,
        660
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 6,
      "title": "Step3: Character2 Audio and Mask",
      "bounding": [
        490,
        -230,
        420,
        660
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 8,
      "title": "Video Size",
      "bounding": [
        930,
        -230,
        290,
        295.6
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    }
  ],
  "definitions": {
    "subgraphs": [
      {
        "id": "16c4feb3-9adc-4bfd-ab30-e57cab73ffbf",
        "version": 1,
        "state": {
          "lastGroupId": 2,
          "lastNodeId": 144,
          "lastLinkId": 445,
          "lastRerouteId": 0
        },
        "revision": 0,
        "config": {},
        "name": "Custom Sampler",
        "inputNode": {
          "id": -10,
          "bounding": [
            920,
            93,
            120,
            120
          ]
        },
        "outputNode": {
          "id": -20,
          "bounding": [
            1740,
            123,
            120,
            60
          ]
        },
        "inputs": [
          {
            "id": "ea88456b-95cc-42c8-8cf0-3aa25e349446",
            "name": "model",
            "type": "MODEL",
            "linkIds": [
              392,
              391
            ],
            "localized_name": "model",
            "pos": [
              1020,
              113
            ]
          },
          {
            "id": "00784c1c-c986-4952-a7ec-c717673f8d08",
            "name": "positive",
            "type": "CONDITIONING",
            "linkIds": [
              393
            ],
            "localized_name": "positive",
            "pos": [
              1020,
              133
            ]
          },
          {
            "id": "0822ca44-7923-4859-8cb2-31f0a9679324",
            "name": "negative",
            "type": "CONDITIONING",
            "linkIds": [
              394
            ],
            "localized_name": "negative",
            "pos": [
              1020,
              153
            ]
          },
          {
            "id": "23331471-5abb-42ab-998d-851cb894f409",
            "name": "latent_image",
            "type": "LATENT",
            "linkIds": [
              414
            ],
            "localized_name": "latent_image",
            "pos": [
              1020,
              173
            ]
          }
        ],
        "outputs": [
          {
            "id": "538e90d8-7baf-4a1f-84e8-68ffb4792704",
            "name": "output",
            "type": "LATENT",
            "linkIds": [
              346
            ],
            "localized_name": "output",
            "pos": [
              1760,
              143
            ]
          }
        ],
        "widgets": [],
        "nodes": [
          {
            "id": 108,
            "type": "KSamplerSelect",
            "pos": [
              1100,
              210
            ],
            "size": [
              270,
              58
            ],
            "flags": {},
            "order": 0,
            "mode": 0,
            "inputs": [],
            "outputs": [
              {
                "localized_name": "SAMPLER",
                "name": "SAMPLER",
                "type": "SAMPLER",
                "links": [
                  344
                ]
              }
            ],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.3.67",
              "enableTabs": false,
              "tabWidth": 65,
              "tabXOffset": 10,
              "hasSecondTab": false,
              "secondTabText": "Send Back",
              "secondTabOffset": 80,
              "secondTabWidth": 65,
              "Node name for S&R": "KSamplerSelect"
            },
            "widgets_values": [
              "euler"
            ]
          },
          {
            "id": 107,
            "type": "CFGGuider",
            "pos": [
              1100,
              -80
            ],
            "size": [
              270,
              98
            ],
            "flags": {},
            "order": 3,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "model",
                "name": "model",
                "type": "MODEL",
                "link": 392
              },
              {
                "localized_name": "positive",
                "name": "positive",
                "type": "CONDITIONING",
                "link": 393
              },
              {
                "localized_name": "negative",
                "name": "negative",
                "type": "CONDITIONING",
                "link": 394
              }
            ],
            "outputs": [
              {
                "localized_name": "GUIDER",
                "name": "GUIDER",
                "type": "GUIDER",
                "links": [
                  342
                ]
              }
            ],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.3.67",
              "enableTabs": false,
              "tabWidth": 65,
              "tabXOffset": 10,
              "hasSecondTab": false,
              "secondTabText": "Send Back",
              "secondTabOffset": 80,
              "secondTabWidth": 65,
              "Node name for S&R": "CFGGuider"
            },
            "widgets_values": [
              1
            ]
          },
          {
            "id": 19,
            "type": "BasicScheduler",
            "pos": [
              1100,
              310
            ],
            "size": [
              270,
              106
            ],
            "flags": {},
            "order": 2,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "model",
                "name": "model",
                "type": "MODEL",
                "link": 391
              }
            ],
            "outputs": [
              {
                "localized_name": "SIGMAS",
                "name": "SIGMAS",
                "type": "SIGMAS",
                "links": [
                  345
                ]
              }
            ],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.3.57",
              "enableTabs": false,
              "tabWidth": 65,
              "tabXOffset": 10,
              "hasSecondTab": false,
              "secondTabText": "Send Back",
              "secondTabOffset": 80,
              "secondTabWidth": 65,
              "Node name for S&R": "BasicScheduler"
            },
            "widgets_values": [
              "normal",
              4,
              1
            ]
          },
          {
            "id": 106,
            "type": "RandomNoise",
            "pos": [
              1100,
              70
            ],
            "size": [
              270,
              82
            ],
            "flags": {},
            "order": 1,
            "mode": 0,
            "inputs": [],
            "outputs": [
              {
                "localized_name": "NOISE",
                "name": "NOISE",
                "type": "NOISE",
                "links": [
                  343
                ]
              }
            ],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.3.67",
              "enableTabs": false,
              "tabWidth": 65,
              "tabXOffset": 10,
              "hasSecondTab": false,
              "secondTabText": "Send Back",
              "secondTabOffset": 80,
              "secondTabWidth": 65,
              "Node name for S&R": "RandomNoise"
            },
            "widgets_values": [
              264423375967408,
              "randomize"
            ]
          },
          {
            "id": 120,
            "type": "SamplerCustomAdvanced",
            "pos": [
              1410,
              -70
            ],
            "size": [
              270,
              300
            ],
            "flags": {},
            "order": 4,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "noise",
                "name": "noise",
                "type": "NOISE",
                "link": 343
              },
              {
                "localized_name": "guider",
                "name": "guider",
                "type": "GUIDER",
                "link": 342
              },
              {
                "localized_name": "sampler",
                "name": "sampler",
                "type": "SAMPLER",
                "link": 344
              },
              {
                "localized_name": "sigmas",
                "name": "sigmas",
                "type": "SIGMAS",
                "link": 345
              },
              {
                "localized_name": "latent_image",
                "name": "latent_image",
                "type": "LATENT",
                "link": 414
              }
            ],
            "outputs": [
              {
                "localized_name": "output",
                "name": "output",
                "type": "LATENT",
                "links": [
                  346
                ]
              },
              {
                "localized_name": "denoised_output",
                "name": "denoised_output",
                "type": "LATENT",
                "links": null
              }
            ],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.5.1",
              "enableTabs": false,
              "tabWidth": 65,
              "tabXOffset": 10,
              "hasSecondTab": false,
              "secondTabText": "Send Back",
              "secondTabOffset": 80,
              "secondTabWidth": 65,
              "Node name for S&R": "SamplerCustomAdvanced"
            },
            "widgets_values": []
          }
        ],
        "groups": [],
        "links": [
          {
            "id": 343,
            "origin_id": 106,
            "origin_slot": 0,
            "target_id": 120,
            "target_slot": 0,
            "type": "NOISE"
          },
          {
            "id": 342,
            "origin_id": 107,
            "origin_slot": 0,
            "target_id": 120,
            "target_slot": 1,
            "type": "GUIDER"
          },
          {
            "id": 344,
            "origin_id": 108,
            "origin_slot": 0,
            "target_id": 120,
            "target_slot": 2,
            "type": "SAMPLER"
          },
          {
            "id": 345,
            "origin_id": 19,
            "origin_slot": 0,
            "target_id": 120,
            "target_slot": 3,
            "type": "SIGMAS"
          },
          {
            "id": 392,
            "origin_id": -10,
            "origin_slot": 0,
            "target_id": 107,
            "target_slot": 0,
            "type": "MODEL"
          },
          {
            "id": 391,
            "origin_id": -10,
            "origin_slot": 0,
            "target_id": 19,
            "target_slot": 0,
            "type": "MODEL"
          },
          {
            "id": 393,
            "origin_id": -10,
            "origin_slot": 1,
            "target_id": 107,
            "target_slot": 1,
            "type": "CONDITIONING"
          },
          {
            "id": 394,
            "origin_id": -10,
            "origin_slot": 2,
            "target_id": 107,
            "target_slot": 2,
            "type": "CONDITIONING"
          },
          {
            "id": 414,
            "origin_id": -10,
            "origin_slot": 3,
            "target_id": 120,
            "target_slot": 4,
            "type": "LATENT"
          },
          {
            "id": 346,
            "origin_id": 120,
            "origin_slot": 0,
            "target_id": -20,
            "target_slot": 0,
            "type": "LATENT"
          }
        ],
        "extra": {
          "workflowRendererVersion": "LG"
        }
      },
      {
        "id": "58374208-7916-4582-9f02-035a4536f14b",
        "version": 1,
        "state": {
          "lastGroupId": 2,
          "lastNodeId": 144,
          "lastLinkId": 445,
          "lastRerouteId": 0
        },
        "revision": 0,
        "config": {},
        "name": "Custom Sampler",
        "inputNode": {
          "id": -10,
          "bounding": [
            920,
            93,
            120,
            120
          ]
        },
        "outputNode": {
          "id": -20,
          "bounding": [
            1740,
            123,
            120,
            60
          ]
        },
        "inputs": [
          {
            "id": "ea88456b-95cc-42c8-8cf0-3aa25e349446",
            "name": "model",
            "type": "MODEL",
            "linkIds": [
              392,
              391
            ],
            "localized_name": "model",
            "pos": [
              1020,
              113
            ]
          },
          {
            "id": "00784c1c-c986-4952-a7ec-c717673f8d08",
            "name": "positive",
            "type": "CONDITIONING",
            "linkIds": [
              393
            ],
            "localized_name": "positive",
            "pos": [
              1020,
              133
            ]
          },
          {
            "id": "0822ca44-7923-4859-8cb2-31f0a9679324",
            "name": "negative",
            "type": "CONDITIONING",
            "linkIds": [
              394
            ],
            "localized_name": "negative",
            "pos": [
              1020,
              153
            ]
          },
          {
            "id": "23331471-5abb-42ab-998d-851cb894f409",
            "name": "latent_image",
            "type": "LATENT",
            "linkIds": [
              414
            ],
            "localized_name": "latent_image",
            "pos": [
              1020,
              173
            ]
          }
        ],
        "outputs": [
          {
            "id": "538e90d8-7baf-4a1f-84e8-68ffb4792704",
            "name": "output",
            "type": "LATENT",
            "linkIds": [
              346
            ],
            "localized_name": "output",
            "pos": [
              1760,
              143
            ]
          }
        ],
        "widgets": [],
        "nodes": [
          {
            "id": 108,
            "type": "KSamplerSelect",
            "pos": [
              1100,
              210
            ],
            "size": [
              270,
              58
            ],
            "flags": {},
            "order": 0,
            "mode": 0,
            "inputs": [],
            "outputs": [
              {
                "localized_name": "SAMPLER",
                "name": "SAMPLER",
                "type": "SAMPLER",
                "links": [
                  344
                ]
              }
            ],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.3.67",
              "enableTabs": false,
              "tabWidth": 65,
              "tabXOffset": 10,
              "hasSecondTab": false,
              "secondTabText": "Send Back",
              "secondTabOffset": 80,
              "secondTabWidth": 65,
              "Node name for S&R": "KSamplerSelect"
            },
            "widgets_values": [
              "euler"
            ]
          },
          {
            "id": 107,
            "type": "CFGGuider",
            "pos": [
              1100,
              -80
            ],
            "size": [
              270,
              98
            ],
            "flags": {},
            "order": 3,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "model",
                "name": "model",
                "type": "MODEL",
                "link": 392
              },
              {
                "localized_name": "positive",
                "name": "positive",
                "type": "CONDITIONING",
                "link": 393
              },
              {
                "localized_name": "negative",
                "name": "negative",
                "type": "CONDITIONING",
                "link": 394
              }
            ],
            "outputs": [
              {
                "localized_name": "GUIDER",
                "name": "GUIDER",
                "type": "GUIDER",
                "links": [
                  342
                ]
              }
            ],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.3.67",
              "enableTabs": false,
              "tabWidth": 65,
              "tabXOffset": 10,
              "hasSecondTab": false,
              "secondTabText": "Send Back",
              "secondTabOffset": 80,
              "secondTabWidth": 65,
              "Node name for S&R": "CFGGuider"
            },
            "widgets_values": [
              1
            ]
          },
          {
            "id": 19,
            "type": "BasicScheduler",
            "pos": [
              1100,
              310
            ],
            "size": [
              270,
              106
            ],
            "flags": {},
            "order": 2,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "model",
                "name": "model",
                "type": "MODEL",
                "link": 391
              }
            ],
            "outputs": [
              {
                "localized_name": "SIGMAS",
                "name": "SIGMAS",
                "type": "SIGMAS",
                "links": [
                  345
                ]
              }
            ],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.3.57",
              "enableTabs": false,
              "tabWidth": 65,
              "tabXOffset": 10,
              "hasSecondTab": false,
              "secondTabText": "Send Back",
              "secondTabOffset": 80,
              "secondTabWidth": 65,
              "Node name for S&R": "BasicScheduler"
            },
            "widgets_values": [
              "normal",
              4,
              1
            ]
          },
          {
            "id": 106,
            "type": "RandomNoise",
            "pos": [
              1100,
              70
            ],
            "size": [
              270,
              82
            ],
            "flags": {},
            "order": 1,
            "mode": 0,
            "inputs": [],
            "outputs": [
              {
                "localized_name": "NOISE",
                "name": "NOISE",
                "type": "NOISE",
                "links": [
                  343
                ]
              }
            ],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.3.67",
              "enableTabs": false,
              "tabWidth": 65,
              "tabXOffset": 10,
              "hasSecondTab": false,
              "secondTabText": "Send Back",
              "secondTabOffset": 80,
              "secondTabWidth": 65,
              "Node name for S&R": "RandomNoise"
            },
            "widgets_values": [
              967091162875519,
              "randomize"
            ]
          },
          {
            "id": 120,
            "type": "SamplerCustomAdvanced",
            "pos": [
              1410,
              -70
            ],
            "size": [
              270,
              300
            ],
            "flags": {},
            "order": 4,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "noise",
                "name": "noise",
                "type": "NOISE",
                "link": 343
              },
              {
                "localized_name": "guider",
                "name": "guider",
                "type": "GUIDER",
                "link": 342
              },
              {
                "localized_name": "sampler",
                "name": "sampler",
                "type": "SAMPLER",
                "link": 344
              },
              {
                "localized_name": "sigmas",
                "name": "sigmas",
                "type": "SIGMAS",
                "link": 345
              },
              {
                "localized_name": "latent_image",
                "name": "latent_image",
                "type": "LATENT",
                "link": 414
              }
            ],
            "outputs": [
              {
                "localized_name": "output",
                "name": "output",
                "type": "LATENT",
                "links": [
                  346
                ]
              },
              {
                "localized_name": "denoised_output",
                "name": "denoised_output",
                "type": "LATENT",
                "links": null
              }
            ],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.5.1",
              "enableTabs": false,
              "tabWidth": 65,
              "tabXOffset": 10,
              "hasSecondTab": false,
              "secondTabText": "Send Back",
              "secondTabOffset": 80,
              "secondTabWidth": 65,
              "Node name for S&R": "SamplerCustomAdvanced"
            },
            "widgets_values": []
          }
        ],
        "groups": [],
        "links": [
          {
            "id": 343,
            "origin_id": 106,
            "origin_slot": 0,
            "target_id": 120,
            "target_slot": 0,
            "type": "NOISE"
          },
          {
            "id": 342,
            "origin_id": 107,
            "origin_slot": 0,
            "target_id": 120,
            "target_slot": 1,
            "type": "GUIDER"
          },
          {
            "id": 344,
            "origin_id": 108,
            "origin_slot": 0,
            "target_id": 120,
            "target_slot": 2,
            "type": "SAMPLER"
          },
          {
            "id": 345,
            "origin_id": 19,
            "origin_slot": 0,
            "target_id": 120,
            "target_slot": 3,
            "type": "SIGMAS"
          },
          {
            "id": 392,
            "origin_id": -10,
            "origin_slot": 0,
            "target_id": 107,
            "target_slot": 0,
            "type": "MODEL"
          },
          {
            "id": 391,
            "origin_id": -10,
            "origin_slot": 0,
            "target_id": 19,
            "target_slot": 0,
            "type": "MODEL"
          },
          {
            "id": 393,
            "origin_id": -10,
            "origin_slot": 1,
            "target_id": 107,
            "target_slot": 1,
            "type": "CONDITIONING"
          },
          {
            "id": 394,
            "origin_id": -10,
            "origin_slot": 2,
            "target_id": 107,
            "target_slot": 2,
            "type": "CONDITIONING"
          },
          {
            "id": 414,
            "origin_id": -10,
            "origin_slot": 3,
            "target_id": 120,
            "target_slot": 4,
            "type": "LATENT"
          },
          {
            "id": 346,
            "origin_id": 120,
            "origin_slot": 0,
            "target_id": -20,
            "target_slot": 0,
            "type": "LATENT"
          }
        ],
        "extra": {
          "workflowRendererVersion": "LG"
        }
      }
    ]
  },
  "config": {},
  "extra": {
    "ds": {
      "scale": 0.3570754261979213,
      "offset": [
        1336.9260454389666,
        1630.6809192445614
      ]
    },
    "frontendVersion": "1.37.11",
    "workflowRendererVersion": "LG",
    "VHS_latentpreview": false,
    "VHS_latentpreviewrate": 0,
    "VHS_MetadataImage": true,
    "VHS_KeepIntermediate": true
  },
  "version": 0.4
}